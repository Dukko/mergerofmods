namespace = marauder
country_event = {
    id = marauder.34
    title = "marauder_diplo_header"
    desc = {
        text = marauder.34.1.desc
        trigger = {
            event_target:current_marauder_diplomacy = {
                has_country_flag = marauder_1
            }
        }
    }
    desc = {
        text = marauder.34.2.desc
        trigger = {
            event_target:current_marauder_diplomacy = {
                has_country_flag = marauder_2
            }
        }
    }
    desc = {
        text = marauder.34.3.desc
        trigger = {
            event_target:current_marauder_diplomacy = {
                has_country_flag = marauder_3
            }
        }
    }
    diplomatic = yes
    picture_event_data = {
        portrait = event_target:current_marauder_diplomacy
        room = "ethic_spaceship_room"
    }
    is_triggered_only = yes
    immediate = {
        set_country_flag = marauder_diplomacy_engaged
    }
    after = {
        hidden_effect = {
            remove_country_flag = marauder_diplomacy_engaged
        }
    }
    option = {
        name = marauder.34.1.a
        trigger = {
            event_target:current_marauder_diplomacy = {
                has_country_flag = marauder_1
            }
            NOT = {
                event_target:current_marauder_diplomacy = {
                    has_country_flag = merc_fleet_1_hired
                }
            }
        }
        allow = {
            resource_stockpile_compare = {
                resource = energy
                value >= @largemercallow
            }
            hidden_trigger = {
                NOT = {
                    event_target:current_marauder_diplomacy = {
                        has_country_flag = merc_fleet_1_hired
                    }
                }
            }
        }
        add_resource = {
            energy = @largemerccost
        }
        custom_tooltip = voidborn_hire
        hidden_effect = {
            event_target:current_marauder_diplomacy = {
                set_country_flag = merc_fleet_1_hired
            }
            create_marauder_merc_admiral = yes
            create_fleet = {
                name = "NAME_Armada_of_the_Voidborn"
                effect = {
                    set_owner = root
                    save_event_target_as = hired_merc_fleet
                    create_armada_of_the_voidborn = yes
                    set_location = root.capital_scope
                    assign_leader = last_created_leader
                    set_fleet_flag = armada_of_the_voidborn
                    fleet_event = {
                        id = marauder.50
                        days = 1800
                    }
                }
                settings = {
                    can_upgrade = no
                    can_disband = no
                    can_change_composition = no
                    can_change_leader = no
                    uses_naval_capacity = no
                }
            }
            country_event = {
                id = marauder.37
            }
        }
    }
    option = {
        name = marauder.34.1.b
        trigger = {
            event_target:current_marauder_diplomacy = {
                has_country_flag = marauder_1
            }
            NOT = {
                event_target:current_marauder_diplomacy = {
                    has_country_flag = merc_fleet_2_hired
                }
            }
        }
        allow = {
            resource_stockpile_compare = {
                resource = energy
                value >= @mediummercallow
            }
            hidden_trigger = {
                NOT = {
                    event_target:current_marauder_diplomacy = {
                        has_country_flag = merc_fleet_2_hired
                    }
                }
            }
        }
        add_resource = {
            energy = @mediummerccost
        }
        custom_tooltip = star_riders_hire
        hidden_effect = {
            event_target:current_marauder_diplomacy = {
                set_country_flag = merc_fleet_2_hired
            }
            create_marauder_merc_admiral = yes
            create_fleet = {
                name = "NAME_Star_Rider_Flotilla"
                effect = {
                    set_owner = root
                    save_event_target_as = hired_merc_fleet
                    create_star_rider_flotilla = yes
                    set_location = root.capital_scope
                    assign_leader = last_created_leader
                    set_fleet_flag = star_rider_flotilla
                    fleet_event = {
                        id = marauder.50
                        days = 1800
                    }
                }
                settings = {
                    can_upgrade = no
                    can_disband = no
                    can_change_composition = no
                    can_change_leader = no
                    uses_naval_capacity = no
                }
            }
            country_event = {
                id = marauder.37
            }
        }
    }
    option = {
        name = marauder.34.1.c
        trigger = {
            event_target:current_marauder_diplomacy = {
                has_country_flag = marauder_1
            }
            NOT = {
                event_target:current_marauder_diplomacy = {
                    has_country_flag = merc_fleet_3_hired
                }
            }
        }
        allow = {
            resource_stockpile_compare = {
                resource = energy
                value >= @smallmercallow
            }
            hidden_trigger = {
                NOT = {
                    event_target:current_marauder_diplomacy = {
                        has_country_flag = merc_fleet_3_hired
                    }
                }
            }
        }
        add_resource = {
            energy = @smallmerccost
        }
        custom_tooltip = storm_wing_hire
        hidden_effect = {
            event_target:current_marauder_diplomacy = {
                set_country_flag = merc_fleet_3_hired
            }
            create_marauder_merc_admiral = yes
            create_fleet = {
                name = "NAME_First_Storm_Wing"
                effect = {
                    set_owner = root
                    save_event_target_as = hired_merc_fleet
                    create_first_storm_wing = yes
                    assign_leader = last_created_leader
                    set_location = root.capital_scope
                    set_fleet_flag = first_storm_wing
                    fleet_event = {
                        id = marauder.50
                        days = 1800
                    }
                }
                settings = {
                    can_upgrade = no
                    can_disband = no
                    can_change_composition = no
                    can_change_leader = no
                    uses_naval_capacity = no
                }
            }
            country_event = {
                id = marauder.37
            }
        }
    }
    option = {
        name = marauder.34.2.a
        trigger = {
            event_target:current_marauder_diplomacy = {
                has_country_flag = marauder_2
            }
            NOT = {
                event_target:current_marauder_diplomacy = {
                    has_country_flag = merc_fleet_1_hired
                }
            }
        }
        allow = {
            resource_stockpile_compare = {
                resource = energy
                value >= @largemercallow
            }
            hidden_trigger = {
                NOT = {
                    event_target:current_marauder_diplomacy = {
                        has_country_flag = merc_fleet_1_hired
                    }
                }
            }
        }
        add_resource = {
            energy = @largemerccost
        }
        custom_tooltip = voidborn_hire
        hidden_effect = {
            event_target:current_marauder_diplomacy = {
                set_country_flag = merc_fleet_1_hired
            }
            create_marauder_merc_admiral = yes
            create_fleet = {
                name = "NAME_234th_Dwamak_Bashers"
                effect = {
                    set_owner = root
                    save_event_target_as = hired_merc_fleet
                    create_dwamak_bashers = yes
                    set_location = root.capital_scope
                    assign_leader = last_created_leader
                    set_fleet_flag = dwamak_bashers
                    fleet_event = {
                        id = marauder.50
                        days = 1800
                    }
                }
                settings = {
                    can_upgrade = no
                    can_disband = no
                    can_change_composition = no
                    can_change_leader = no
                    uses_naval_capacity = no
                }
            }
            country_event = {
                id = marauder.37
            }
        }
    }
    option = {
        name = marauder.34.2.b
        trigger = {
            event_target:current_marauder_diplomacy = {
                has_country_flag = marauder_2
            }
            NOT = {
                event_target:current_marauder_diplomacy = {
                    has_country_flag = merc_fleet_2_hired
                }
            }
        }
        allow = {
            resource_stockpile_compare = {
                resource = energy
                value >= @mediummercallow
            }
            hidden_trigger = {
                NOT = {
                    event_target:current_marauder_diplomacy = {
                        has_country_flag = merc_fleet_2_hired
                    }
                }
            }
        }
        add_resource = {
            energy = @mediummerccost
        }
        custom_tooltip = star_riders_hire
        hidden_effect = {
            event_target:current_marauder_diplomacy = {
                set_country_flag = merc_fleet_2_hired
            }
            create_marauder_merc_admiral = yes
            create_fleet = {
                name = "NAME_Unhinged_Screamer_Flotilla"
                effect = {
                    set_owner = root
                    save_event_target_as = hired_merc_fleet
                    create_unhinged_screamer_flotilla = yes
                    set_location = root.capital_scope
                    assign_leader = last_created_leader
                    set_fleet_flag = unhinged_screamer_flotilla
                    fleet_event = {
                        id = marauder.50
                        days = 1800
                    }
                }
                settings = {
                    can_upgrade = no
                    can_disband = no
                    can_change_composition = no
                    can_change_leader = no
                    uses_naval_capacity = no
                }
            }
            country_event = {
                id = marauder.37
            }
        }
    }
    option = {
        name = marauder.34.2.c
        trigger = {
            event_target:current_marauder_diplomacy = {
                has_country_flag = marauder_2
            }
            NOT = {
                event_target:current_marauder_diplomacy = {
                    has_country_flag = merc_fleet_3_hired
                }
            }
        }
        allow = {
            resource_stockpile_compare = {
                resource = energy
                value >= @smallmercallow
            }
            hidden_trigger = {
                NOT = {
                    event_target:current_marauder_diplomacy = {
                        has_country_flag = merc_fleet_3_hired
                    }
                }
            }
        }
        add_resource = {
            energy = @smallmerccost
        }
        custom_tooltip = storm_wing_hire
        hidden_effect = {
            event_target:current_marauder_diplomacy = {
                set_country_flag = merc_fleet_3_hired
            }
            create_marauder_merc_admiral = yes
            create_fleet = {
                name = "NAME_Frenzied_Volunteer_Squadron"
                effect = {
                    set_owner = root
                    save_event_target_as = hired_merc_fleet
                    create_frenzied_volunteer_squadron = yes
                    assign_leader = last_created_leader
                    set_location = root.capital_scope
                    set_fleet_flag = frenzied_volunteer_squadron
                    fleet_event = {
                        id = marauder.50
                        days = 1800
                    }
                }
                settings = {
                    can_upgrade = no
                    can_disband = no
                    can_change_composition = no
                    can_change_leader = no
                    uses_naval_capacity = no
                }
            }
            country_event = {
                id = marauder.37
            }
        }
    }
    option = {
        name = marauder.34.3.a
        trigger = {
            event_target:current_marauder_diplomacy = {
                has_country_flag = marauder_3
            }
            NOT = {
                event_target:current_marauder_diplomacy = {
                    has_country_flag = merc_fleet_1_hired
                }
            }
        }
        allow = {
            resource_stockpile_compare = {
                resource = energy
                value >= @largemercallow
            }
            hidden_trigger = {
                NOT = {
                    event_target:current_marauder_diplomacy = {
                        has_country_flag = merc_fleet_1_hired
                    }
                }
            }
        }
        add_resource = {
            energy = @largemerccost
        }
        custom_tooltip = voidborn_hire
        hidden_effect = {
            event_target:current_marauder_diplomacy = {
                set_country_flag = merc_fleet_1_hired
            }
            create_marauder_merc_admiral = yes
            create_fleet = {
                name = "NAME_Her_Chosen_Champions"
                effect = {
                    set_owner = root
                    save_event_target_as = hired_merc_fleet
                    create_her_chosen_champions = yes
                    set_location = root.capital_scope
                    assign_leader = last_created_leader
                    set_fleet_flag = her_chosen_champions
                    fleet_event = {
                        id = marauder.50
                        days = 1800
                    }
                }
                settings = {
                    can_upgrade = no
                    can_disband = no
                    can_change_composition = no
                    can_change_leader = no
                    uses_naval_capacity = no
                }
            }
            country_event = {
                id = marauder.37
            }
        }
    }
    option = {
        name = marauder.34.3.b
        trigger = {
            event_target:current_marauder_diplomacy = {
                has_country_flag = marauder_3
            }
            NOT = {
                event_target:current_marauder_diplomacy = {
                    has_country_flag = merc_fleet_2_hired
                }
            }
        }
        allow = {
            resource_stockpile_compare = {
                resource = energy
                value >= @mediummercallow
            }
            hidden_trigger = {
                NOT = {
                    event_target:current_marauder_diplomacy = {
                        has_country_flag = merc_fleet_2_hired
                    }
                }
            }
        }
        add_resource = {
            energy = @mediummerccost
        }
        custom_tooltip = star_riders_hire
        hidden_effect = {
            event_target:current_marauder_diplomacy = {
                set_country_flag = merc_fleet_2_hired
            }
            create_marauder_merc_admiral = yes
            create_fleet = {
                name = "NAME_Order_of_Eternal_Night"
                effect = {
                    set_owner = root
                    save_event_target_as = hired_merc_fleet
                    create_order_of_eternal_night = yes
                    set_location = root.capital_scope
                    assign_leader = last_created_leader
                    set_fleet_flag = order_of_eternal_night
                    fleet_event = {
                        id = marauder.50
                        days = 1800
                    }
                }
                settings = {
                    can_upgrade = no
                    can_disband = no
                    can_change_composition = no
                    can_change_leader = no
                    uses_naval_capacity = no
                }
            }
            country_event = {
                id = marauder.37
            }
        }
    }
    option = {
        name = marauder.34.3.c
        trigger = {
            event_target:current_marauder_diplomacy = {
                has_country_flag = marauder_3
            }
            NOT = {
                event_target:current_marauder_diplomacy = {
                    has_country_flag = merc_fleet_3_hired
                }
            }
        }
        allow = {
            resource_stockpile_compare = {
                resource = energy
                value >= @smallmercallow
            }
            hidden_trigger = {
                NOT = {
                    event_target:current_marauder_diplomacy = {
                        has_country_flag = merc_fleet_3_hired
                    }
                }
            }
        }
        add_resource = {
            energy = @smallmerccost
        }
        custom_tooltip = storm_wing_hire
        hidden_effect = {
            event_target:current_marauder_diplomacy = {
                set_country_flag = merc_fleet_3_hired
            }
            create_marauder_merc_admiral = yes
            create_fleet = {
                name = "NAME_Twilight_Congregation"
                effect = {
                    set_owner = root
                    save_event_target_as = hired_merc_fleet
                    create_twilight_congregation = yes
                    assign_leader = last_created_leader
                    set_location = root.capital_scope
                    set_fleet_flag = twilight_congregation
                    fleet_event = {
                        id = marauder.50
                        days = 1800
                    }
                }
                settings = {
                    can_upgrade = no
                    can_disband = no
                    can_change_composition = no
                    can_change_leader = no
                    uses_naval_capacity = no
                }
            }
            country_event = {
                id = marauder.37
            }
        }
    }
    option = {
        name = marauder.34.d
        hidden_effect = {
            country_event = {
                id = marauder.21
            }
        }
    }
    option = {
        name = marauder.34.e
        default_hide_option = yes
    }
}