namespace = primitive
country_event = {
    id = primitive.16
    hide_window = yes
    is_triggered_only = yes
    immediate = {
        remove_country_flag = early_space_age
        set_country_flag = primitives_can_into_space
        set_country_type = default
        change_country_flag = random
        if = {
            limit = {
                is_species_class = MAM
            }
            set_graphical_culture = mammalian_01
        }
        if = {
            limit = {
                is_species_class = REP
            }
            set_graphical_culture = reptilian_01
        }
        if = {
            limit = {
                is_species_class = AVI
            }
            set_graphical_culture = avian_01
        }
        if = {
            limit = {
                is_species_class = ART
            }
            set_graphical_culture = arthropoid_01
        }
        if = {
            limit = {
                is_species_class = MOL
            }
            set_graphical_culture = molluscoid_01
        }
        if = {
            limit = {
                is_species_class = FUN
            }
            set_graphical_culture = fungoid_01
        }
        if = {
            limit = {
                is_species_class = PLANT
            }
            set_graphical_culture = plantoid_01
        }
        if = {
            limit = {
                is_species_class = NECROID
            }
            set_graphical_culture = necroid_01
        }
        if = {
            limit = {
                is_species_class = LITHOID
            }
            set_graphical_culture = lithoid_01
        }
        if = {
            limit = {
                ruler = {
                    has_trait = leader_trait_ruler_chosen
                }
            }
            change_government = {
                civics = random
            }
        }
        else = {
            change_government = {
                authority = random
                civics = random
            }
        }
        set_name = random
        home_planet = {
            if = {
                limit = {
                    exists = observation_outpost_owner
                }
                observation_outpost_owner = {
                    country_event = {
                        id = primitive.17
                    }
                }
            }
        }
        add_resource = {
            energy = 500
            minerals = 1000
        }
        if = {
            limit = {
                capital_scope = {
                    is_planet_class = pc_ringworld_habitable
                }
            }
            add_resource = {
                energy = 1000
                food = 1000
                minerals = 1000
                alloys = 1000
                volatile_motes = 500
                exotic_gases = 500
                rare_crystals = 500
            }
        }
        if = {
            limit = {
                capital_scope = {
                    is_planet_class = pc_hive
                }
            }
            add_modifier = {
                modifier = foreign_biosphere_acclimatization
                days = 9125
            }
        }
        add_resource = {
            influence = 300
        }
        capital_scope = {
            clear_blockers = yes
            while = {
                limit = {
                    num_pops < 8
                }
                create_pop = {
                    species = owner
                }
            }
            remove_building = building_primitive_farm
            remove_building = building_primitive_mine
            remove_building = building_primitive_factory
            remove_building = building_primitive_capital
            remove_building = building_urban_dwellings
            remove_building = building_urban_dwellings
            add_building = building_capital
            if = {
                limit = {
                    NOT = {
                        is_planet_class = pc_ringworld_habitable
                    }
                }
                while = {
                    count = 3
                    add_district = {
                        district_type = district_city
                        ignore_cap = yes
                    }
                }
                while = {
                    count = 2
                    add_district = {
                        district_type = district_industrial
                        ignore_cap = yes
                    }
                }
                IF = {
                    limit = {
                        any_owned_species = {
                            is_archetype = BIOLOGICAL
                        }
                    }
                    while = {
                        count = 3
                        add_district = {
                            district_type = district_farming
                            ignore_cap = yes
                        }
                    }
                }
                ELSE = {
                    while = {
                        count = 3
                        add_district = {
                            district_type = district_mining
                            ignore_cap = yes
                        }
                    }
                }
                while = {
                    count = 3
                    add_district = {
                        district_type = district_mining
                        ignore_cap = yes
                    }
                }
                while = {
                    count = 3
                    add_district = {
                        district_type = district_generator
                        ignore_cap = yes
                    }
                }
                add_building = building_research_lab_1
                add_building = building_foundry_1
                add_building = building_commercial_forum
            }
            if = {
                limit = {
                    is_planet_class = pc_ringworld_habitable
                }
                add_district = district_rw_city
                add_district = district_rw_farming
                add_building = building_chemical_plant
                add_building = building_foundry_1
            }
            remove_all_armies = yes
            solar_system = {
                if = {
                    limit = {
                        NOT = {
                            exists = starbase
                        }
                    }
                    create_starbase = {
                        size = starbase_outpost
                        owner = root
                    }
                }
                else_if = {
                    limit = {
                        starbase = {
                            NOT = {
                                owner = {
                                    is_same_value = root
                                }
                            }
                        }
                    }
                    starbase = {
                        owner = {
                            country_event = {
                                id = primitive.180
                            }
                        }
                    }
                }
            }
        }
        IF = {
            limit = {
                has_origin = origin_necrophage
                is_xenophobe = no
            }
            capital_scope = {
                add_building = building_necrophage_elevation_chamber
            }
        }
        IF = {
            limit = {
                has_country_flag = mpo_primitive_contact_sender
            }
            remove_country_flag = mpo_primitive_contact_sender
            random_list = {
                1 = {
                    every_country = {
                        limit = {
                            has_country_flag = mpo_primitive_contact@prev
                        }
                        remove_country_flag = mpo_primitive_contact@prev
                        add_opinion_modifier = {
                            who = prev
                            modifier = opinion_common_ground
                        }
                        IF = {
                            limit = {
                                OR = {
                                    is_country_type = primitive
                                    is_country_type = vbp_hive
                                    is_country_type = vbp_machine
                                }
                            }
                            set_timed_country_flag = {
                                flag = mpo_common_ground_advance
                                days = 2
                            }
                            country_event = {
                                id = prim_orig.5
                            }
                        }
                        ELSE = {
                            join_alliance = {
                                who = root
                                override_requirements = yes
                            }
                            IF = {
                                limit = {
                                    NOT = {
                                        has_country_flag = mpo_common_ground_advance
                                    }
                                }
                                set_federation_leader = this
                                add_tradition = tr_diplomacy_adopt
                                add_tradition = tr_diplomacy_the_federation
                            }
                        }
                    }
                    modifier = {
                        factor = 0
                        has_country_flag = mpo_hegemon_advance
                    }
                }
                1 = {
                    IF = {
                        limit = {
                            has_origin = origin_common_ground
                        }
                        set_origin = origin_hegemon
                    }
                    every_country = {
                        limit = {
                            has_country_flag = mpo_primitive_contact@prev
                        }
                        remove_country_flag = mpo_primitive_contact@prev
                        IF = {
                            limit = {
                                OR = {
                                    is_country_type = primitive
                                    is_country_type = vbp_hive
                                    is_country_type = vbp_machine
                                }
                            }
                            set_timed_country_flag = {
                                flag = mpo_hegemon_advance
                                days = 2
                            }
                            country_event = {
                                id = prim_orig.5
                            }
                        }
                        ELSE = {
                            join_alliance = {
                                who = root
                                override_requirements = yes
                            }
                            IF = {
                                limit = {
                                    NOT = {
                                        has_country_flag = mpo_hegemon_advance
                                    }
                                }
                                set_federation_leader = this
                                add_tradition = tr_diplomacy_adopt
                                add_tradition = tr_diplomacy_the_federation
                                federation = {
                                    set_federation_type = hegemony_federation
                                    set_name = random
                                    set_federation_law = succession_term_years_20
                                }
                            }
                        }
                    }
                    modifier = {
                        factor = 0
                        OR = {
                            has_country_flag = mpo_common_ground_advance
                            AND = {
                                is_egalitarian = yes
                                NOT = {
                                    has_country_flag = mpo_hegemon_advance
                                }
                            }
                        }
                    }
                }
            }
        }
        random_owned_ship = {
            limit = {
                is_ship_size = primitive_space_station
            }
            fleet = {
                destroy_fleet = THIS
            }
        }
    }
}