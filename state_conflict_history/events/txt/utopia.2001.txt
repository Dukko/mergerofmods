namespace = utopia
country_event = {
    id = utopia.2001
    hide_window = yes
    is_triggered_only = yes
    trigger = {
        FROM = {
            is_megastructure_type = ring_world_1
        }
    }
    immediate = {
        FROMFROM = {
            save_event_target_as = ringworld_system
        }
        every_country = {
            limit = {
                is_ai = no
                NOT = {
                    is_same_value = ROOT
                }
                OR = {
                    has_intel_level = {
                        who = root
                        category = economy
                        level >= 1
                    }
                    has_intel_level = {
                        who = root
                        category = technology
                        level >= 1
                    }
                }
            }
            country_event = {
                id = utopia.2002
            }
        }
    }
    after = {
        if = {
            limit = {
                NOT = {
                    has_country_flag = started_first_ring_world
                }
            }
            set_country_flag = started_first_ring_world
            break = yes
        }
        if = {
            limit = {
                has_country_flag = started_first_ring_world
            }
            set_country_flag = started_first_ring_world_2
        }
    }
}