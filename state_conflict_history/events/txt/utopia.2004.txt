namespace = utopia
country_event = {
    id = utopia.2004
    title = "utopia.2004.name"
    desc = {
        text = utopia.2004.desc.a
        trigger = {
            NOT = {
                has_country_flag = finished_ringworld
            }
        }
    }
    desc = {
        text = utopia.2004.desc.b
        trigger = {
            has_country_flag = finished_ringworld
        }
    }
    picture = GFX_evt_ringworld
    show_sound = event_ringworld_build_complete
    location = FROMFROM
    is_triggered_only = yes
    trigger = {
        FROM = {
            is_megastructure_type = ring_world_3_intermediate
        }
        FROMFROM = {
            NOT = {
                any_system_megastructure = {
                    is_megastructure_type = ring_world_2
                }
            }
        }
    }
    immediate = {
        set_country_flag = built_ringworld
        FROMFROM = {
            save_event_target_as = completed_ringworld_system
        }
        every_country = {
            limit = {
                is_ai = no
                NOT = {
                    is_same_value = ROOT
                }
                OR = {
                    has_intel_level = {
                        who = root
                        category = economy
                        level >= 1
                    }
                    has_intel_level = {
                        who = root
                        category = technology
                        level >= 1
                    }
                }
            }
            hidden_effect = {
            country_event = {
                id = utopia.2005
            }
        }
    }
    }
    after = {
        hidden_effect = {
            country_event = {
                id = utopia.2006
                days = 5
            }
        }
    }
    option = {
        name = "utopia.2004.a"
    }
}