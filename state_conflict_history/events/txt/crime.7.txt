namespace = crime
planet_event = {
    id = crime.7
    title = crime.7.name
    desc = crime.7.desc
    picture = GFX_evt_ship_offloading_cargo
    show_sound = event_criminal_activity
    location = root
    pre_triggers = {
        has_owner = yes
    }
    trigger = {
        has_modifier = criminal_underworld
    }
    is_triggered_only = yes
    immediate = {
        set_timed_planet_flag = {
            flag = planet_crime_flag
            days = 3600
        }
        random_list = {
            10 = {
                set_planet_flag = contraband_alloys
            }
            10 = {
                set_planet_flag = contraband_consumer_goods
            }
            10 = {
                set_planet_flag = contraband_volatile_motes
                modifier = {
                    factor = 0
                    owner = {
                        NOT = {
                            has_technology = "tech_mine_volatile_motes"
                        }
                    }
                }
            }
            10 = {
                set_planet_flag = contraband_exotic_gases
                modifier = {
                    factor = 0
                    owner = {
                        NOT = {
                            has_technology = "tech_mine_exotic_gases"
                        }
                    }
                }
            }
            10 = {
                set_planet_flag = contraband_rare_crystals
                modifier = {
                    factor = 0
                    owner = {
                        NOT = {
                            has_technology = "tech_mine_rare_crystals"
                        }
                    }
                }
            }
            10 = {
                set_planet_flag = contraband_living_metal
                modifier = {
                    factor = 0
                    owner = {
                        NOT = {
                            has_technology = "tech_mine_living_metal"
                        }
                    }
                }
            }
            10 = {
                set_planet_flag = contraband_zro
                modifier = {
                    factor = 0
                    owner = {
                        NOT = {
                            has_technology = "tech_mine_zro"
                        }
                    }
                }
            }
            10 = {
                set_planet_flag = contraband_dark_matter
                modifier = {
                    factor = 0
                    owner = {
                        NOT = {
                            has_technology = "tech_mine_dark_matter"
                        }
                    }
                }
            }
        }
    }
    after = {
        hidden_effect = {
            remove_planet_flag = contraband_alloys
            remove_planet_flag = contraband_consumer_goods
            remove_planet_flag = contraband_volatile_motes
            remove_planet_flag = contraband_exotic_gases
            remove_planet_flag = contraband_rare_crystals
            remove_planet_flag = contraband_living_metal
            remove_planet_flag = contraband_zro
            remove_planet_flag = contraband_dark_matter
        }
    }
    option = {
        name = EXCELLENT
        if = {
            limit = {
                has_planet_flag = contraband_alloys
            }
            owner = {
                add_resource = {
                    alloys = 100
                }
            }
            break = yes
        }
        if = {
            limit = {
                has_planet_flag = contraband_consumer_goods
            }
            owner = {
                add_resource = {
                    consumer_goods = 30
                }
            }
            break = yes
        }
        if = {
            limit = {
                has_planet_flag = contraband_volatile_motes
            }
            owner = {
                add_resource = {
                    volatile_motes = 20
                }
            }
            break = yes
        }
        if = {
            limit = {
                has_planet_flag = contraband_exotic_gases
            }
            owner = {
                add_resource = {
                    exotic_gases = 20
                }
            }
            break = yes
        }
        if = {
            limit = {
                has_planet_flag = contraband_rare_crystals
            }
            owner = {
                add_resource = {
                    rare_crystals = 20
                }
            }
            break = yes
        }
        if = {
            limit = {
                has_planet_flag = contraband_living_metal
            }
            owner = {
                add_resource = {
                    sr_living_metal = 10
                }
            }
            break = yes
        }
        if = {
            limit = {
                has_planet_flag = contraband_zro
            }
            owner = {
                add_resource = {
                    sr_zro = 10
                }
            }
            break = yes
        }
        if = {
            limit = {
                has_planet_flag = contraband_dark_matter
            }
            owner = {
                add_resource = {
                    sr_dark_matter = 10
                }
            }
            break = yes
        }
    }
}