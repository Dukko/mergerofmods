@TECHLEVEL_CO_CO = 100
@TECHLEVEL_DD_CO = 50
@TECHLEVEL_DD_DD = 50
@TECHLEVEL_CC_CO = 35
@TECHLEVEL_CC_DD = 35
@TECHLEVEL_CC_CC = 30
@TECHLEVEL_BB_CO = 25
@TECHLEVEL_BB_DD = 25
@TECHLEVEL_BB_CC = 25
@TECHLEVEL_BB_BB = 25
@TECHLEVEL_DD_ADD_1 = 10
@TECHLEVEL_CC_ADD_1 = 10
@TECHLEVEL_BB_ADD_1 = 15
@TECHLEVEL_DD_SUB_1 = -10
@TECHLEVEL_CC_SUB_1 = -5
@TECHLEVEL_BB_SUB_1 = -5
@TECHLEVEL_DD_ADD_2 = 20
@TECHLEVEL_CC_ADD_2 = 20
@TECHLEVEL_BB_ADD_2 = 30
@TECHLEVEL_DD_SUB_2 = -20
@TECHLEVEL_CC_SUB_2 = -10
@TECHLEVEL_BB_SUB_2 = -10
@TECHLEVEL_DD_ADD_3 = 30
@TECHLEVEL_CC_ADD_3 = 30
@TECHLEVEL_BB_ADD_3 = 45
@TECHLEVEL_DD_SUB_3 = -30
@TECHLEVEL_CC_SUB_3 = -15
@TECHLEVEL_BB_SUB_3 = -15
@TECHLEVEL_DD_ADD_4 = 40
@TECHLEVEL_CC_ADD_4 = 40
@TECHLEVEL_BB_ADD_4 = 60
@TECHLEVEL_DD_SUB_4 = -40
@TECHLEVEL_CC_SUB_4 = -20
@TECHLEVEL_BB_SUB_4 = -20
@TECHLEVEL_DD_AA_ADD = 20
@TECHLEVEL_CC_AA_ADD = 20
@TECHLEVEL_BB_AA_ADD = 15
@TECHLEVEL_DD_AA_SUB = -20
@TECHLEVEL_CC_AA_SUB = -10
@TECHLEVEL_BB_AA_SUB = -5
@AA_EXTREME_ADD = 20
@ECM_SHIP_ADD = 10
@ENDGAME_SUB_FOR_CO = -5
@ENDGAME_SUB_FOR_DD = -5
@ENDGAME_ADD_FOR_BB = 10
@PAS_MAIN_ADD = 8
@PAS_ADD = 4
@PAS_SUB = -4
@RS_EAC_ADD = 4
@RS_SuC_ADD = 4
@RS_BC_ADD = 20
@RS_CARRIER_ADD = 20
@RS_DN_ADD = 20
@RS_HDN_ADD = 20
@PD_ship_ratio_limit = 0.6
default = {
    has_difficulty_bonuses = yes
    counts_for_victory = yes
    pop_growth = yes
    playable = yes
    has_pulse_events = yes
    piracy_risk = yes
    randomize_ethos = yes
    shuffle_pop_ethos = yes
    needs_survey = yes
    diplomatic_wars = yes
    ship_disengagement = yes
    army_disengagement = yes
    relations = yes
    observable = yes
    can_use_invalid_technology = no
    can_receive_envoys = yes
    ai = {
        enabled = yes
        declare_war = yes
        min_navy_for_wars = 0.7
        min_assault_armies_for_wars = 0
        colonizer = yes
        internal_policies = yes
        modification = yes
        government = yes
        traditions = yes
        construction = yes
        follow = yes
        can_use_market = yes
        modules = {
            military_minister_module
            foreign_minister_module
            interior_minister_module
        }
        ship_data = {
            constructor = {
                min = 6
                max = 9
                system_mult = 0.1
            }
            science = {
                min = 5
                max = 8
            }
            colonizer = {
                min = 2
                max = 3
            }
            sponsored_colonizer = {
                min = 1
                max = 3
            }
            juggernaut = {
                min = 1
                max = 1
            }
            colossus = {
                min = 1
                max = 1
            }
            star_eater = {
                min = 1
                max = 1
            }
            titan = {
                min = 1
                max = 4
            }
            corvette = {
                fraction = {
                    modifier = {
                        add = @TECHLEVEL_CO_CO
                        has_country_flag = BSWf_TECHLEVEL_CO
                    }
                    modifier = {
                        add = @TECHLEVEL_DD_CO
                        has_country_flag = BSWf_TECHLEVEL_DD
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_CO
                        has_country_flag = BSWf_TECHLEVEL_CC
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_CO
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_DD_ADD_1
                        has_country_flag = BSWf_FLEET_CO_1
                        has_country_flag = BSWf_TECHLEVEL_DD
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_ADD_1
                        has_country_flag = BSWf_FLEET_CO_1
                        has_country_flag = BSWf_TECHLEVEL_CC
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_ADD_1
                        has_country_flag = BSWf_FLEET_CO_1
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_DD_ADD_2
                        has_country_flag = BSWf_FLEET_CO_2
                        has_country_flag = BSWf_TECHLEVEL_DD
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_ADD_2
                        has_country_flag = BSWf_FLEET_CO_2
                        has_country_flag = BSWf_TECHLEVEL_CC
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_ADD_2
                        has_country_flag = BSWf_FLEET_CO_2
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_DD_ADD_3
                        has_country_flag = BSWf_FLEET_CO_3
                        has_country_flag = BSWf_TECHLEVEL_DD
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_ADD_3
                        has_country_flag = BSWf_FLEET_CO_3
                        has_country_flag = BSWf_TECHLEVEL_CC
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_ADD_3
                        has_country_flag = BSWf_FLEET_CO_3
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_DD_ADD_4
                        has_country_flag = BSWf_FLEET_CO_4
                        has_country_flag = BSWf_TECHLEVEL_DD
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_ADD_4
                        has_country_flag = BSWf_FLEET_CO_4
                        has_country_flag = BSWf_TECHLEVEL_CC
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_ADD_4
                        has_country_flag = BSWf_FLEET_CO_4
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_DD_SUB_1
                        has_country_flag = BSWf_FLEET_DD_1
                        has_country_flag = BSWf_TECHLEVEL_DD
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_DD_SC
                            }
                            AND = {
                                has_country_flag = BSWf_DD_SC
                                has_technology = tech_destroyer_hull_2
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_SUB_1
                        has_country_flag = BSWf_FLEET_DD_1
                        has_country_flag = BSWf_TECHLEVEL_CC
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_DD_SC
                            }
                            AND = {
                                has_country_flag = BSWf_DD_SC
                                has_technology = tech_destroyer_hull_2
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_1
                        has_country_flag = BSWf_FLEET_DD_1
                        has_country_flag = BSWf_TECHLEVEL_BB
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_DD_SC
                            }
                            AND = {
                                has_country_flag = BSWf_DD_SC
                                has_technology = tech_destroyer_hull_2
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_DD_SUB_2
                        has_country_flag = BSWf_FLEET_DD_2
                        has_country_flag = BSWf_TECHLEVEL_DD
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_DD_SC
                            }
                            AND = {
                                has_country_flag = BSWf_DD_SC
                                has_technology = tech_destroyer_hull_2
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_SUB_2
                        has_country_flag = BSWf_FLEET_DD_2
                        has_country_flag = BSWf_TECHLEVEL_CC
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_DD_SC
                            }
                            AND = {
                                has_country_flag = BSWf_DD_SC
                                has_technology = tech_destroyer_hull_2
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_2
                        has_country_flag = BSWf_FLEET_DD_2
                        has_country_flag = BSWf_TECHLEVEL_BB
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_DD_SC
                            }
                            AND = {
                                has_country_flag = BSWf_DD_SC
                                has_technology = tech_destroyer_hull_2
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_DD_SUB_3
                        has_country_flag = BSWf_FLEET_DD_3
                        has_country_flag = BSWf_TECHLEVEL_DD
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_DD_SC
                            }
                            AND = {
                                has_country_flag = BSWf_DD_SC
                                has_technology = tech_destroyer_hull_2
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_SUB_3
                        has_country_flag = BSWf_FLEET_DD_3
                        has_country_flag = BSWf_TECHLEVEL_CC
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_DD_SC
                            }
                            AND = {
                                has_country_flag = BSWf_DD_SC
                                has_technology = tech_destroyer_hull_2
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_3
                        has_country_flag = BSWf_FLEET_DD_3
                        has_country_flag = BSWf_TECHLEVEL_BB
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_DD_SC
                            }
                            AND = {
                                has_country_flag = BSWf_DD_SC
                                has_technology = tech_destroyer_hull_2
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_DD_SUB_4
                        has_country_flag = BSWf_FLEET_DD_4
                        has_country_flag = BSWf_TECHLEVEL_DD
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_DD_SC
                            }
                            AND = {
                                has_country_flag = BSWf_DD_SC
                                has_technology = tech_destroyer_hull_2
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_SUB_4
                        has_country_flag = BSWf_FLEET_DD_4
                        has_country_flag = BSWf_TECHLEVEL_CC
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_DD_SC
                            }
                            AND = {
                                has_country_flag = BSWf_DD_SC
                                has_technology = tech_destroyer_hull_2
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_4
                        has_country_flag = BSWf_FLEET_DD_4
                        has_country_flag = BSWf_TECHLEVEL_BB
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_DD_SC
                            }
                            AND = {
                                has_country_flag = BSWf_DD_SC
                                has_technology = tech_destroyer_hull_2
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_SUB_1
                        has_country_flag = BSWf_FLEET_CC_1
                        has_country_flag = BSWf_TECHLEVEL_CC
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_CC_SC
                            }
                            AND = {
                                has_country_flag = BSWf_CC_SC
                                has_technology = tech_cruiser_hull_1
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_1
                        has_country_flag = BSWf_FLEET_CC_1
                        has_country_flag = BSWf_TECHLEVEL_BB
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_CC_SC
                            }
                            AND = {
                                has_country_flag = BSWf_CC_SC
                                has_technology = tech_cruiser_hull_1
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_SUB_2
                        has_country_flag = BSWf_FLEET_CC_2
                        has_country_flag = BSWf_TECHLEVEL_CC
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_CC_SC
                            }
                            AND = {
                                has_country_flag = BSWf_CC_SC
                                has_technology = tech_cruiser_hull_1
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_2
                        has_country_flag = BSWf_FLEET_CC_2
                        has_country_flag = BSWf_TECHLEVEL_BB
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_CC_SC
                            }
                            AND = {
                                has_country_flag = BSWf_CC_SC
                                has_technology = tech_cruiser_hull_1
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_SUB_3
                        has_country_flag = BSWf_FLEET_CC_3
                        has_country_flag = BSWf_TECHLEVEL_CC
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_CC_SC
                            }
                            AND = {
                                has_country_flag = BSWf_CC_SC
                                has_technology = tech_cruiser_hull_1
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_3
                        has_country_flag = BSWf_FLEET_CC_3
                        has_country_flag = BSWf_TECHLEVEL_BB
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_CC_SC
                            }
                            AND = {
                                has_country_flag = BSWf_CC_SC
                                has_technology = tech_cruiser_hull_1
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_SUB_4
                        has_country_flag = BSWf_FLEET_CC_4
                        has_country_flag = BSWf_TECHLEVEL_CC
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_CC_SC
                            }
                            AND = {
                                has_country_flag = BSWf_CC_SC
                                has_technology = tech_cruiser_hull_1
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_4
                        has_country_flag = BSWf_FLEET_CC_4
                        has_country_flag = BSWf_TECHLEVEL_BB
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_CC_SC
                            }
                            AND = {
                                has_country_flag = BSWf_CC_SC
                                has_technology = tech_cruiser_hull_1
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_1
                        has_country_flag = BSWf_FLEET_BB_1
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_2
                        has_country_flag = BSWf_FLEET_BB_2
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_3
                        has_country_flag = BSWf_FLEET_BB_3
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_4
                        has_country_flag = BSWf_FLEET_BB_4
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_DD_AA_ADD
                        has_country_flag = BSWf_CO_uPD
                        NOR = {
                            has_country_flag = BSWf_FLEET_CO_1
                            has_country_flag = BSWf_FLEET_CO_2
                            has_country_flag = BSWf_FLEET_CO_3
                            has_country_flag = BSWf_FLEET_CO_4
                        }
                        has_country_flag = BSWf_TECHLEVEL_DD
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_AA_ADD
                        has_country_flag = BSWf_CO_uPD
                        NOR = {
                            has_country_flag = BSWf_FLEET_CO_1
                            has_country_flag = BSWf_FLEET_CO_2
                            has_country_flag = BSWf_FLEET_CO_3
                            has_country_flag = BSWf_FLEET_CO_4
                        }
                        has_country_flag = BSWf_TECHLEVEL_CC
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_AA_ADD
                        has_country_flag = BSWf_CO_uPD
                        NOR = {
                            has_country_flag = BSWf_FLEET_CO_1
                            has_country_flag = BSWf_FLEET_CO_2
                            has_country_flag = BSWf_FLEET_CO_3
                            has_country_flag = BSWf_FLEET_CO_4
                        }
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_DD_AA_SUB
                        has_country_flag = BSWf_DD_uPD
                        NOR = {
                            has_country_flag = BSWf_FLEET_DD_1
                            has_country_flag = BSWf_FLEET_DD_2
                            has_country_flag = BSWf_FLEET_DD_3
                            has_country_flag = BSWf_FLEET_DD_4
                        }
                        has_country_flag = BSWf_TECHLEVEL_DD
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_AA_SUB
                        has_country_flag = BSWf_DD_uPD
                        NOR = {
                            has_country_flag = BSWf_FLEET_DD_1
                            has_country_flag = BSWf_FLEET_DD_2
                            has_country_flag = BSWf_FLEET_DD_3
                            has_country_flag = BSWf_FLEET_DD_4
                        }
                        has_country_flag = BSWf_TECHLEVEL_CC
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_AA_SUB
                        has_country_flag = BSWf_DD_uPD
                        NOR = {
                            has_country_flag = BSWf_FLEET_DD_1
                            has_country_flag = BSWf_FLEET_DD_2
                            has_country_flag = BSWf_FLEET_DD_3
                            has_country_flag = BSWf_FLEET_DD_4
                        }
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_AA_SUB
                        has_country_flag = BSWf_CC_uPD
                        NOR = {
                            has_country_flag = BSWf_FLEET_CC_1
                            has_country_flag = BSWf_FLEET_CC_2
                            has_country_flag = BSWf_FLEET_CC_3
                            has_country_flag = BSWf_FLEET_CC_4
                        }
                        has_country_flag = BSWf_TECHLEVEL_CC
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_AA_SUB
                        has_country_flag = BSWf_CC_uPD
                        NOR = {
                            has_country_flag = BSWf_FLEET_CC_1
                            has_country_flag = BSWf_FLEET_CC_2
                            has_country_flag = BSWf_FLEET_CC_3
                            has_country_flag = BSWf_FLEET_CC_4
                        }
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @AA_EXTREME_ADD
                        has_country_flag = BSWf_CO_uPD
                        OR = {
                            has_country_flag = BSWf_AIR_ENEMY_EXTREME
                            has_country_flag = BSWf_AIR_RIVAL_EXTREME
                        }
                        check_variable = {
                            which = BSWq_RATIO_PD
                            value < @PD_ship_ratio_limit
                        }
                    }
                    modifier = {
                        add = @ENDGAME_SUB_FOR_CO
                        end_game_years_passed >= 0
                    }
                }
            }
            destroyer = {
                fraction = {
                    modifier = {
                        add = @TECHLEVEL_DD_DD
                        has_country_flag = BSWf_TECHLEVEL_DD
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_DD
                        has_country_flag = BSWf_TECHLEVEL_CC
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_DD
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_DD_SUB_1
                        has_country_flag = BSWf_FLEET_CO_1
                        has_country_flag = BSWf_TECHLEVEL_DD
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_SUB_1
                        has_country_flag = BSWf_FLEET_CO_1
                        has_country_flag = BSWf_TECHLEVEL_CC
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_1
                        has_country_flag = BSWf_FLEET_CO_1
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_DD_SUB_2
                        has_country_flag = BSWf_FLEET_CO_2
                        has_country_flag = BSWf_TECHLEVEL_DD
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_SUB_2
                        has_country_flag = BSWf_FLEET_CO_2
                        has_country_flag = BSWf_TECHLEVEL_CC
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_2
                        has_country_flag = BSWf_FLEET_CO_2
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_DD_SUB_3
                        has_country_flag = BSWf_FLEET_CO_3
                        has_country_flag = BSWf_TECHLEVEL_DD
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_SUB_3
                        has_country_flag = BSWf_FLEET_CO_3
                        has_country_flag = BSWf_TECHLEVEL_CC
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_3
                        has_country_flag = BSWf_FLEET_CO_3
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_DD_SUB_4
                        has_country_flag = BSWf_FLEET_CO_4
                        has_country_flag = BSWf_TECHLEVEL_DD
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_SUB_4
                        has_country_flag = BSWf_FLEET_CO_4
                        has_country_flag = BSWf_TECHLEVEL_CC
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_4
                        has_country_flag = BSWf_FLEET_CO_4
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_DD_ADD_1
                        has_country_flag = BSWf_FLEET_DD_1
                        has_country_flag = BSWf_TECHLEVEL_DD
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_DD_SC
                            }
                            AND = {
                                has_country_flag = BSWf_DD_SC
                                has_technology = tech_destroyer_hull_2
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_ADD_1
                        has_country_flag = BSWf_FLEET_DD_1
                        has_country_flag = BSWf_TECHLEVEL_CC
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_DD_SC
                            }
                            AND = {
                                has_country_flag = BSWf_DD_SC
                                has_technology = tech_destroyer_hull_2
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_ADD_1
                        has_country_flag = BSWf_FLEET_DD_1
                        has_country_flag = BSWf_TECHLEVEL_BB
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_DD_SC
                            }
                            AND = {
                                has_country_flag = BSWf_DD_SC
                                has_technology = tech_destroyer_hull_2
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_DD_ADD_2
                        has_country_flag = BSWf_FLEET_DD_2
                        has_country_flag = BSWf_TECHLEVEL_DD
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_DD_SC
                            }
                            AND = {
                                has_country_flag = BSWf_DD_SC
                                has_technology = tech_destroyer_hull_2
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_ADD_2
                        has_country_flag = BSWf_FLEET_DD_2
                        has_country_flag = BSWf_TECHLEVEL_CC
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_DD_SC
                            }
                            AND = {
                                has_country_flag = BSWf_DD_SC
                                has_technology = tech_destroyer_hull_2
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_ADD_2
                        has_country_flag = BSWf_FLEET_DD_2
                        has_country_flag = BSWf_TECHLEVEL_BB
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_DD_SC
                            }
                            AND = {
                                has_country_flag = BSWf_DD_SC
                                has_technology = tech_destroyer_hull_2
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_DD_ADD_3
                        has_country_flag = BSWf_FLEET_DD_3
                        has_country_flag = BSWf_TECHLEVEL_DD
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_DD_SC
                            }
                            AND = {
                                has_country_flag = BSWf_DD_SC
                                has_technology = tech_destroyer_hull_2
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_ADD_3
                        has_country_flag = BSWf_FLEET_DD_3
                        has_country_flag = BSWf_TECHLEVEL_CC
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_DD_SC
                            }
                            AND = {
                                has_country_flag = BSWf_DD_SC
                                has_technology = tech_destroyer_hull_2
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_ADD_3
                        has_country_flag = BSWf_FLEET_DD_3
                        has_country_flag = BSWf_TECHLEVEL_BB
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_DD_SC
                            }
                            AND = {
                                has_country_flag = BSWf_DD_SC
                                has_technology = tech_destroyer_hull_2
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_DD_ADD_4
                        has_country_flag = BSWf_FLEET_DD_4
                        has_country_flag = BSWf_TECHLEVEL_DD
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_DD_SC
                            }
                            AND = {
                                has_country_flag = BSWf_DD_SC
                                has_technology = tech_destroyer_hull_2
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_ADD_4
                        has_country_flag = BSWf_FLEET_DD_4
                        has_country_flag = BSWf_TECHLEVEL_CC
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_DD_SC
                            }
                            AND = {
                                has_country_flag = BSWf_DD_SC
                                has_technology = tech_destroyer_hull_2
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_ADD_4
                        has_country_flag = BSWf_FLEET_DD_4
                        has_country_flag = BSWf_TECHLEVEL_BB
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_DD_SC
                            }
                            AND = {
                                has_country_flag = BSWf_DD_SC
                                has_technology = tech_destroyer_hull_2
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_SUB_1
                        has_country_flag = BSWf_FLEET_CC_1
                        has_country_flag = BSWf_TECHLEVEL_CC
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_CC_SC
                            }
                            AND = {
                                has_country_flag = BSWf_CC_SC
                                has_technology = tech_cruiser_hull_1
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_1
                        has_country_flag = BSWf_FLEET_CC_1
                        has_country_flag = BSWf_TECHLEVEL_BB
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_CC_SC
                            }
                            AND = {
                                has_country_flag = BSWf_CC_SC
                                has_technology = tech_cruiser_hull_1
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_SUB_2
                        has_country_flag = BSWf_FLEET_CC_2
                        has_country_flag = BSWf_TECHLEVEL_CC
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_CC_SC
                            }
                            AND = {
                                has_country_flag = BSWf_CC_SC
                                has_technology = tech_cruiser_hull_1
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_2
                        has_country_flag = BSWf_FLEET_CC_2
                        has_country_flag = BSWf_TECHLEVEL_BB
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_CC_SC
                            }
                            AND = {
                                has_country_flag = BSWf_CC_SC
                                has_technology = tech_cruiser_hull_1
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_SUB_3
                        has_country_flag = BSWf_FLEET_CC_3
                        has_country_flag = BSWf_TECHLEVEL_CC
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_CC_SC
                            }
                            AND = {
                                has_country_flag = BSWf_CC_SC
                                has_technology = tech_cruiser_hull_1
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_3
                        has_country_flag = BSWf_FLEET_CC_3
                        has_country_flag = BSWf_TECHLEVEL_BB
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_CC_SC
                            }
                            AND = {
                                has_country_flag = BSWf_CC_SC
                                has_technology = tech_cruiser_hull_1
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_SUB_4
                        has_country_flag = BSWf_FLEET_CC_4
                        has_country_flag = BSWf_TECHLEVEL_CC
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_CC_SC
                            }
                            AND = {
                                has_country_flag = BSWf_CC_SC
                                has_technology = tech_cruiser_hull_1
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_4
                        has_country_flag = BSWf_FLEET_CC_4
                        has_country_flag = BSWf_TECHLEVEL_BB
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_CC_SC
                            }
                            AND = {
                                has_country_flag = BSWf_CC_SC
                                has_technology = tech_cruiser_hull_1
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_1
                        has_country_flag = BSWf_FLEET_BB_1
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_2
                        has_country_flag = BSWf_FLEET_BB_2
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_3
                        has_country_flag = BSWf_FLEET_BB_3
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_4
                        has_country_flag = BSWf_FLEET_BB_4
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_DD_AA_SUB
                        has_country_flag = BSWf_CO_uPD
                        NOR = {
                            has_country_flag = BSWf_FLEET_CO_1
                            has_country_flag = BSWf_FLEET_CO_2
                            has_country_flag = BSWf_FLEET_CO_3
                            has_country_flag = BSWf_FLEET_CO_4
                        }
                        has_country_flag = BSWf_TECHLEVEL_DD
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_AA_SUB
                        has_country_flag = BSWf_CO_uPD
                        NOR = {
                            has_country_flag = BSWf_FLEET_CO_1
                            has_country_flag = BSWf_FLEET_CO_2
                            has_country_flag = BSWf_FLEET_CO_3
                            has_country_flag = BSWf_FLEET_CO_4
                        }
                        has_country_flag = BSWf_TECHLEVEL_CC
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_AA_SUB
                        has_country_flag = BSWf_CO_uPD
                        NOR = {
                            has_country_flag = BSWf_FLEET_CO_1
                            has_country_flag = BSWf_FLEET_CO_2
                            has_country_flag = BSWf_FLEET_CO_3
                            has_country_flag = BSWf_FLEET_CO_4
                        }
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_DD_AA_ADD
                        has_country_flag = BSWf_DD_uPD
                        NOR = {
                            has_country_flag = BSWf_FLEET_DD_1
                            has_country_flag = BSWf_FLEET_DD_2
                            has_country_flag = BSWf_FLEET_DD_3
                            has_country_flag = BSWf_FLEET_DD_4
                        }
                        has_country_flag = BSWf_TECHLEVEL_DD
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_AA_ADD
                        has_country_flag = BSWf_DD_uPD
                        NOR = {
                            has_country_flag = BSWf_FLEET_DD_1
                            has_country_flag = BSWf_FLEET_DD_2
                            has_country_flag = BSWf_FLEET_DD_3
                            has_country_flag = BSWf_FLEET_DD_4
                        }
                        has_country_flag = BSWf_TECHLEVEL_CC
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_AA_ADD
                        has_country_flag = BSWf_DD_uPD
                        NOR = {
                            has_country_flag = BSWf_FLEET_DD_1
                            has_country_flag = BSWf_FLEET_DD_2
                            has_country_flag = BSWf_FLEET_DD_3
                            has_country_flag = BSWf_FLEET_DD_4
                        }
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_AA_SUB
                        has_country_flag = BSWf_CC_uPD
                        NOR = {
                            has_country_flag = BSWf_FLEET_CC_1
                            has_country_flag = BSWf_FLEET_CC_2
                            has_country_flag = BSWf_FLEET_CC_3
                            has_country_flag = BSWf_FLEET_CC_4
                        }
                        has_country_flag = BSWf_TECHLEVEL_CC
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_AA_SUB
                        has_country_flag = BSWf_CC_uPD
                        NOR = {
                            has_country_flag = BSWf_FLEET_CC_1
                            has_country_flag = BSWf_FLEET_CC_2
                            has_country_flag = BSWf_FLEET_CC_3
                            has_country_flag = BSWf_FLEET_CC_4
                        }
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @AA_EXTREME_ADD
                        has_country_flag = BSWf_DD_uPD
                        OR = {
                            has_country_flag = BSWf_AIR_ENEMY_EXTREME
                            has_country_flag = BSWf_AIR_RIVAL_EXTREME
                        }
                        check_variable = {
                            which = BSWq_RATIO_PD
                            value < @PD_ship_ratio_limit
                        }
                    }
                    modifier = {
                        add = @ECM_SHIP_ADD
                        OR = {
                            has_country_flag = BSWf_DD_EW
                            AND = {
                                has_country_flag = BSWf_DD_uEW
                                has_technology = tech_BSW_ECM
                            }
                        }
                    }
                    modifier = {
                        add = @ENDGAME_SUB_FOR_DD
                        end_game_years_passed >= 0
                    }
                }
            }
            cruiser = {
                fraction = {
                    modifier = {
                        add = @TECHLEVEL_CC_CC
                        has_country_flag = BSWf_TECHLEVEL_CC
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_CC
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_SUB_1
                        has_country_flag = BSWf_FLEET_CO_1
                        has_country_flag = BSWf_TECHLEVEL_CC
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_1
                        has_country_flag = BSWf_FLEET_CO_1
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_SUB_2
                        has_country_flag = BSWf_FLEET_CO_2
                        has_country_flag = BSWf_TECHLEVEL_CC
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_2
                        has_country_flag = BSWf_FLEET_CO_2
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_SUB_3
                        has_country_flag = BSWf_FLEET_CO_3
                        has_country_flag = BSWf_TECHLEVEL_CC
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_3
                        has_country_flag = BSWf_FLEET_CO_3
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_SUB_4
                        has_country_flag = BSWf_FLEET_CO_4
                        has_country_flag = BSWf_TECHLEVEL_CC
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_4
                        has_country_flag = BSWf_FLEET_CO_4
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_SUB_1
                        has_country_flag = BSWf_FLEET_DD_1
                        has_country_flag = BSWf_TECHLEVEL_CC
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_DD_SC
                            }
                            AND = {
                                has_country_flag = BSWf_DD_SC
                                has_technology = tech_destroyer_hull_2
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_1
                        has_country_flag = BSWf_FLEET_DD_1
                        has_country_flag = BSWf_TECHLEVEL_BB
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_DD_SC
                            }
                            AND = {
                                has_country_flag = BSWf_DD_SC
                                has_technology = tech_destroyer_hull_2
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_SUB_2
                        has_country_flag = BSWf_FLEET_DD_2
                        has_country_flag = BSWf_TECHLEVEL_CC
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_DD_SC
                            }
                            AND = {
                                has_country_flag = BSWf_DD_SC
                                has_technology = tech_destroyer_hull_2
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_2
                        has_country_flag = BSWf_FLEET_DD_2
                        has_country_flag = BSWf_TECHLEVEL_BB
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_DD_SC
                            }
                            AND = {
                                has_country_flag = BSWf_DD_SC
                                has_technology = tech_destroyer_hull_2
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_SUB_3
                        has_country_flag = BSWf_FLEET_DD_3
                        has_country_flag = BSWf_TECHLEVEL_CC
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_DD_SC
                            }
                            AND = {
                                has_country_flag = BSWf_DD_SC
                                has_technology = tech_destroyer_hull_2
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_3
                        has_country_flag = BSWf_FLEET_DD_3
                        has_country_flag = BSWf_TECHLEVEL_BB
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_DD_SC
                            }
                            AND = {
                                has_country_flag = BSWf_DD_SC
                                has_technology = tech_destroyer_hull_2
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_SUB_4
                        has_country_flag = BSWf_FLEET_DD_4
                        has_country_flag = BSWf_TECHLEVEL_CC
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_DD_SC
                            }
                            AND = {
                                has_country_flag = BSWf_DD_SC
                                has_technology = tech_destroyer_hull_2
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_4
                        has_country_flag = BSWf_FLEET_DD_4
                        has_country_flag = BSWf_TECHLEVEL_BB
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_DD_SC
                            }
                            AND = {
                                has_country_flag = BSWf_DD_SC
                                has_technology = tech_destroyer_hull_2
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_ADD_1
                        has_country_flag = BSWf_FLEET_CC_1
                        has_country_flag = BSWf_TECHLEVEL_CC
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_CC_SC
                            }
                            AND = {
                                has_country_flag = BSWf_CC_SC
                                has_technology = tech_cruiser_hull_1
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_ADD_1
                        has_country_flag = BSWf_FLEET_CC_1
                        has_country_flag = BSWf_TECHLEVEL_BB
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_CC_SC
                            }
                            AND = {
                                has_country_flag = BSWf_CC_SC
                                has_technology = tech_cruiser_hull_1
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_ADD_2
                        has_country_flag = BSWf_FLEET_CC_2
                        has_country_flag = BSWf_TECHLEVEL_CC
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_CC_SC
                            }
                            AND = {
                                has_country_flag = BSWf_CC_SC
                                has_technology = tech_cruiser_hull_1
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_ADD_2
                        has_country_flag = BSWf_FLEET_CC_2
                        has_country_flag = BSWf_TECHLEVEL_BB
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_CC_SC
                            }
                            AND = {
                                has_country_flag = BSWf_CC_SC
                                has_technology = tech_cruiser_hull_1
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_ADD_3
                        has_country_flag = BSWf_FLEET_CC_3
                        has_country_flag = BSWf_TECHLEVEL_CC
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_CC_SC
                            }
                            AND = {
                                has_country_flag = BSWf_CC_SC
                                has_technology = tech_cruiser_hull_1
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_ADD_3
                        has_country_flag = BSWf_FLEET_CC_3
                        has_country_flag = BSWf_TECHLEVEL_BB
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_CC_SC
                            }
                            AND = {
                                has_country_flag = BSWf_CC_SC
                                has_technology = tech_cruiser_hull_1
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_ADD_4
                        has_country_flag = BSWf_FLEET_CC_4
                        has_country_flag = BSWf_TECHLEVEL_CC
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_CC_SC
                            }
                            AND = {
                                has_country_flag = BSWf_CC_SC
                                has_technology = tech_cruiser_hull_1
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_ADD_4
                        has_country_flag = BSWf_FLEET_CC_4
                        has_country_flag = BSWf_TECHLEVEL_BB
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_CC_SC
                            }
                            AND = {
                                has_country_flag = BSWf_CC_SC
                                has_technology = tech_cruiser_hull_1
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_1
                        has_country_flag = BSWf_FLEET_BB_1
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_2
                        has_country_flag = BSWf_FLEET_BB_2
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_3
                        has_country_flag = BSWf_FLEET_BB_3
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_4
                        has_country_flag = BSWf_FLEET_BB_4
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_AA_SUB
                        has_country_flag = BSWf_CO_uPD
                        NOR = {
                            has_country_flag = BSWf_FLEET_CO_1
                            has_country_flag = BSWf_FLEET_CO_2
                            has_country_flag = BSWf_FLEET_CO_3
                            has_country_flag = BSWf_FLEET_CO_4
                        }
                        has_country_flag = BSWf_TECHLEVEL_CC
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_AA_SUB
                        has_country_flag = BSWf_CO_uPD
                        NOR = {
                            has_country_flag = BSWf_FLEET_CO_1
                            has_country_flag = BSWf_FLEET_CO_2
                            has_country_flag = BSWf_FLEET_CO_3
                            has_country_flag = BSWf_FLEET_CO_4
                        }
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_AA_SUB
                        has_country_flag = BSWf_DD_uPD
                        NOR = {
                            has_country_flag = BSWf_FLEET_DD_1
                            has_country_flag = BSWf_FLEET_DD_2
                            has_country_flag = BSWf_FLEET_DD_3
                            has_country_flag = BSWf_FLEET_DD_4
                        }
                        has_country_flag = BSWf_TECHLEVEL_CC
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_AA_SUB
                        has_country_flag = BSWf_DD_uPD
                        NOR = {
                            has_country_flag = BSWf_FLEET_DD_1
                            has_country_flag = BSWf_FLEET_DD_2
                            has_country_flag = BSWf_FLEET_DD_3
                            has_country_flag = BSWf_FLEET_DD_4
                        }
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_CC_AA_ADD
                        has_country_flag = BSWf_CC_uPD
                        NOR = {
                            has_country_flag = BSWf_FLEET_CC_1
                            has_country_flag = BSWf_FLEET_CC_2
                            has_country_flag = BSWf_FLEET_CC_3
                            has_country_flag = BSWf_FLEET_CC_4
                        }
                        has_country_flag = BSWf_TECHLEVEL_CC
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_AA_ADD
                        has_country_flag = BSWf_CC_uPD
                        NOR = {
                            has_country_flag = BSWf_FLEET_CC_1
                            has_country_flag = BSWf_FLEET_CC_2
                            has_country_flag = BSWf_FLEET_CC_3
                            has_country_flag = BSWf_FLEET_CC_4
                        }
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @AA_EXTREME_ADD
                        has_country_flag = BSWf_CC_uPD
                        OR = {
                            has_country_flag = BSWf_AIR_ENEMY_EXTREME
                            has_country_flag = BSWf_AIR_RIVAL_EXTREME
                        }
                        check_variable = {
                            which = BSWq_RATIO_PD
                            value < @PD_ship_ratio_limit
                        }
                    }
                    modifier = {
                        add = @ECM_SHIP_ADD
                        OR = {
                            has_country_flag = BSWf_CC_EW
                            AND = {
                                has_country_flag = BSWf_CC_uEW
                                has_technology = tech_BSW_ECM
                            }
                        }
                    }
                }
            }
            battleship = {
                fraction = {
                    modifier = {
                        add = @TECHLEVEL_BB_BB
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_1
                        has_country_flag = BSWf_FLEET_CO_1
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_2
                        has_country_flag = BSWf_FLEET_CO_2
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_3
                        has_country_flag = BSWf_FLEET_CO_3
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_4
                        has_country_flag = BSWf_FLEET_CO_4
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_1
                        has_country_flag = BSWf_FLEET_DD_1
                        has_country_flag = BSWf_TECHLEVEL_BB
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_DD_SC
                            }
                            AND = {
                                has_country_flag = BSWf_DD_SC
                                has_technology = tech_destroyer_hull_2
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_2
                        has_country_flag = BSWf_FLEET_DD_2
                        has_country_flag = BSWf_TECHLEVEL_BB
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_DD_SC
                            }
                            AND = {
                                has_country_flag = BSWf_DD_SC
                                has_technology = tech_destroyer_hull_2
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_3
                        has_country_flag = BSWf_FLEET_DD_3
                        has_country_flag = BSWf_TECHLEVEL_BB
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_DD_SC
                            }
                            AND = {
                                has_country_flag = BSWf_DD_SC
                                has_technology = tech_destroyer_hull_2
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_4
                        has_country_flag = BSWf_FLEET_DD_4
                        has_country_flag = BSWf_TECHLEVEL_BB
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_DD_SC
                            }
                            AND = {
                                has_country_flag = BSWf_DD_SC
                                has_technology = tech_destroyer_hull_2
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_1
                        has_country_flag = BSWf_FLEET_CC_1
                        has_country_flag = BSWf_TECHLEVEL_BB
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_CC_SC
                            }
                            AND = {
                                has_country_flag = BSWf_CC_SC
                                has_technology = tech_cruiser_hull_1
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_2
                        has_country_flag = BSWf_FLEET_CC_2
                        has_country_flag = BSWf_TECHLEVEL_BB
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_CC_SC
                            }
                            AND = {
                                has_country_flag = BSWf_CC_SC
                                has_technology = tech_cruiser_hull_1
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_3
                        has_country_flag = BSWf_FLEET_CC_3
                        has_country_flag = BSWf_TECHLEVEL_BB
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_CC_SC
                            }
                            AND = {
                                has_country_flag = BSWf_CC_SC
                                has_technology = tech_cruiser_hull_1
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_SUB_4
                        has_country_flag = BSWf_FLEET_CC_4
                        has_country_flag = BSWf_TECHLEVEL_BB
                        OR = {
                            NOT = {
                                has_country_flag = BSWf_CC_SC
                            }
                            AND = {
                                has_country_flag = BSWf_CC_SC
                                has_technology = tech_cruiser_hull_1
                            }
                        }
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_ADD_1
                        has_country_flag = BSWf_FLEET_BB_1
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_ADD_2
                        has_country_flag = BSWf_FLEET_BB_2
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_ADD_3
                        has_country_flag = BSWf_FLEET_BB_3
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @TECHLEVEL_BB_ADD_4
                        has_country_flag = BSWf_FLEET_BB_4
                        has_country_flag = BSWf_TECHLEVEL_BB
                    }
                    modifier = {
                        add = @ECM_SHIP_ADD
                        OR = {
                            has_country_flag = BSWf_BB_EW
                            AND = {
                                has_country_flag = BSWf_BB_uEW
                                has_technology = tech_BSW_ECM
                            }
                        }
                    }
                    modifier = {
                        add = @ENDGAME_ADD_FOR_BB
                        end_game_years_passed >= 0
                    }
                }
            }
            crisis_cruiser = {
                fraction = {
                    modifier = {
                        add = 35
                        str_dont_build_menacing_ships = no
                        has_crisis_level = crisis_level_4
                    }
                }
            }
            crisis_destroyer = {
                fraction = {
                    modifier = {
                        add = 75
                        str_dont_build_menacing_ships = no
                        has_crisis_level = crisis_level_3
                    }
                    modifier = {
                        add = -15
                        str_dont_build_menacing_ships = no
                        has_crisis_level = crisis_level_4
                    }
                }
            }
            crisis_corvette = {
                fraction = {
                    modifier = {
                        add = 100
                        str_dont_build_menacing_ships = no
                        has_crisis_level = crisis_level_2
                    }
                    modifier = {
                        add = -75
                        str_dont_build_menacing_ships = no
                        has_crisis_level = crisis_level_3
                    }
                    modifier = {
                        add = -20
                        str_dont_build_menacing_ships = no
                        has_crisis_level = crisis_level_4
                    }
                }
            }
            pasmod_assault_corvette = {
                fraction = {
                    modifier = {
                        add = @PAS_MAIN_ADD
                        has_technology = @PAS_AS_CO_TECH
                        has_global_flag = pasmod_main_feature
                    }
                    modifier = {
                        add = @PAS_SUB
                        has_technology = @PAS_AS_DD_TECH
                        has_country_flag = BSWf_WEAPON_EXPLOSIVE
                    }
                    modifier = {
                        add = @PAS_SUB
                        has_technology = @PAS_AS_CC_TECH
                        has_country_flag = BSWf_WEAPON_STRIKECRAFT
                    }
                    modifier = {
                        add = @PAS_ADD
                        has_technology = @PAS_AS_CO_TECH
                        NOR = {
                            has_technology = @PAS_AS_DD_TECH
                            has_technology = @PAS_AS_CC_TECH
                        }
                        has_global_flag = pasmod_main_feature
                    }
                }
            }
            pasmod_assault_destroyer = {
                fraction = {
                    modifier = {
                        add = @PAS_ADD
                        has_technology = @PAS_AS_DD_TECH
                        has_country_flag = BSWf_WEAPON_EXPLOSIVE
                        has_global_flag = pasmod_main_feature
                    }
                }
            }
            pasmod_assault_cruiser = {
                fraction = {
                    modifier = {
                        add = @PAS_ADD
                        has_technology = @PAS_AS_CC_TECH
                        has_country_flag = BSWf_WEAPON_STRIKECRAFT
                        has_global_flag = pasmod_main_feature
                    }
                }
            }
            rs_ea_cruiser = {
                fraction = {
                    modifier = {
                        add = @RS_EAC_ADD
                        has_technology = @RS_EAC_TECH
                    }
                }
            }
            rs_support_cruiser = {
                fraction = {
                    modifier = {
                        add = @RS_SuC_ADD
                        has_technology = @RS_SuC_TECH
                    }
                }
            }
            rs_battlecruiser = {
                fraction = {
                    modifier = {
                        add = @RS_BC_ADD
                        has_technology = @RS_BC_TECH
                    }
                }
            }
            rs_carrier = {
                fraction = {
                    modifier = {
                        add = @RS_CARRIER_ADD
                        has_technology = @RS_CARRIER_TECH
                        has_country_flag = BSWf_WEAPON_STRIKECRAFT
                    }
                }
            }
            rs_dreadnought = {
                fraction = {
                    modifier = {
                        add = @RS_DN_ADD
                        has_technology = @RS_DN_TECH
                    }
                }
            }
            rs_heavy_dreadnought = {
                fraction = {
                    modifier = {
                        add = @RS_HDN_ADD
                        has_technology = @RS_HDN_renew_TECH
                    }
                }
            }
            rs_heavy_dreadnought_type_a = {
                fraction = {
                    modifier = {
                        add = @RS_HDN_ADD
                        has_technology = @RS_HDN_TECH
                        has_technology = @RS_Type_A
                    }
                }
            }
            rs_heavy_dreadnought_type_b = {
                fraction = {
                    modifier = {
                        add = @RS_HDN_ADD
                        has_technology = @RS_HDN_TECH
                        has_technology = @RS_Type_B
                    }
                }
            }
            rs_heavy_dreadnought_type_c = {
                fraction = {
                    modifier = {
                        add = @RS_HDN_ADD
                        has_technology = @RS_HDN_TECH
                        has_technology = @RS_Type_C
                    }
                }
            }
            rs_heavy_dreadnought_type_d = {
                fraction = {
                    modifier = {
                        add = @RS_HDN_ADD
                        has_technology = @RS_HDN_TECH
                        has_technology = @RS_Type_D
                    }
                }
            }
            rs_heavy_dreadnought_type_e = {
                fraction = {
                    modifier = {
                        add = @RS_HDN_ADD
                        has_technology = @RS_HDN_TECH
                        has_technology = @RS_Type_E
                    }
                }
            }
            rs_heavy_dreadnought_type_f = {
                fraction = {
                    modifier = {
                        add = @RS_HDN_ADD
                        has_technology = @RS_HDN_TECH
                        has_technology = @RS_Type_F
                    }
                }
            }
            rs_heavy_dreadnought_type_g = {
                fraction = {
                    modifier = {
                        add = @RS_HDN_ADD
                        has_technology = @RS_HDN_TECH
                        has_technology = @RS_Type_G
                    }
                }
            }
            rs_heavy_dreadnought_type_h = {
                fraction = {
                    modifier = {
                        add = @RS_HDN_ADD
                        has_technology = @RS_HDN_TECH
                        has_technology = @RS_Type_H
                    }
                }
            }
            rs_heavy_dreadnought_type_i = {
                fraction = {
                    modifier = {
                        add = @RS_HDN_ADD
                        has_technology = @RS_HDN_TECH
                        has_technology = @RS_Type_I
                    }
                }
            }
            rs_heavy_dreadnought_type_j = {
                fraction = {
                    modifier = {
                        add = @RS_HDN_ADD
                        has_technology = @RS_HDN_TECH
                        has_technology = @RS_Type_J
                    }
                }
            }
            rs_heavy_dreadnought_type_k = {
                fraction = {
                    modifier = {
                        add = @RS_HDN_ADD
                        has_technology = @RS_HDN_TECH
                        has_technology = @RS_Type_K
                    }
                }
            }
        }
        army_data = {
            assault_army = {
                fraction = {
                    factor = 100
                    modifier = {
                        factor = 0
                        OR = {
                            has_authority = auth_machine_intelligence
                            has_technology = tech_telepathy
                            has_technology = tech_gene_seed_purification
                            AND = {
                                OR = {
                                    has_ethic = ethic_militarist
                                    has_ethic = ethic_fanatic_militarist
                                }
                                has_technology = tech_gene_banks
                            }
                            AND = {
                                has_ai_personality_behaviour = slaver
                                has_technology = tech_neural_implants
                            }
                            AND = {
                                has_ai_personality_behaviour = robot_liberator
                                has_technology = tech_droid_workers
                            }
                        }
                    }
                }
            }
            slave_army = {
                fraction = {
                    factor = 100
                    modifier = {
                        factor = 0
                        OR = {
                            has_authority = auth_machine_intelligence
                            has_technology = tech_telepathy
                            has_technology = tech_gene_seed_purification
                            AND = {
                                OR = {
                                    has_ethic = ethic_militarist
                                    has_ethic = ethic_fanatic_militarist
                                }
                                has_technology = tech_gene_banks
                            }
                            NAND = {
                                has_ai_personality_behaviour = slaver
                                has_technology = tech_neural_implants
                            }
                            AND = {
                                has_ai_personality_behaviour = robot_liberator
                                has_technology = tech_droid_workers
                            }
                        }
                    }
                }
            }
            robotic_army = {
                fraction = {
                    factor = 100
                    modifier = {
                        factor = 0
                        OR = {
                            has_authority = auth_machine_intelligence
                            has_technology = tech_telepathy
                            has_technology = tech_gene_seed_purification
                            NAND = {
                                has_ai_personality_behaviour = robot_liberator
                                has_technology = tech_droid_workers
                            }
                        }
                    }
                }
            }
            clone_army = {
                fraction = {
                    factor = 100
                    modifier = {
                        factor = 0
                        OR = {
                            OR = {
                                NOT = {
                                    has_authority = auth_machine_intelligence
                                }
                                has_civic = civic_machine_assimilator
                            }
                            has_technology = tech_telepathy
                            has_technology = tech_gene_seed_purification
                            NAND = {
                                OR = {
                                    has_ethic = ethic_militarist
                                    has_ethic = ethic_fanatic_militarist
                                }
                                has_technology = tech_gene_banks
                            }
                        }
                    }
                }
            }
            psionic_army = {
                fraction = {
                    factor = 100
                    modifier = {
                        factor = 0
                        OR = {
                            has_authority = auth_machine_intelligence
                            NOT = {
                                has_technology = tech_telepathy
                            }
                            has_technology = tech_gene_seed_purification
                        }
                    }
                }
            }
            gene_warrior_army = {
                fraction = {
                    factor = 100
                    modifier = {
                        factor = 0
                        OR = {
                            has_authority = auth_machine_intelligence
                            NOT = {
                                has_technology = tech_gene_seed_purification
                            }
                        }
                    }
                }
            }
            machine_assault_1 = {
                fraction = {
                    factor = 100
                    modifier = {
                        factor = 0
                        OR = {
                            NOT = {
                                has_authority = auth_machine_intelligence
                            }
                            has_technology = tech_adaptive_combat_algorithms
                        }
                    }
                }
            }
            machine_assault_2 = {
                fraction = {
                    factor = 100
                    modifier = {
                        factor = -25
                        has_technology = tech_biomechanics
                    }
                    modifier = {
                        factor = 0
                        OR = {
                            NOT = {
                                has_authority = auth_machine_intelligence
                            }
                            NOT = {
                                has_technology = tech_adaptive_combat_algorithms
                            }
                        }
                    }
                }
            }
            machine_assault_3 = {
                fraction = {
                    factor = 25
                    modifier = {
                        factor = 0
                        OR = {
                            NOT = {
                                has_authority = auth_machine_intelligence
                            }
                            NOT = {
                                has_technology = tech_biomechanics
                            }
                        }
                    }
                }
            }
        }
    }
    trade_routes_available = {
        is_gestalt = no
    }
    modules = {
        standard_event_module = {
        }
        standard_economy_module = {
        }
        standard_leader_module = {
        }
        standard_diplomacy_module = {
            contact_rule = does_first_contact_sites
        }
        standard_technology_module = {
        }
        standard_trade_routes_module = {
        }
        standard_pop_factions_module = {
        }
        standard_expansion_module = {
        }
        standard_species_rights_module = {
        }
    }
    resources = {
        category = country_base
        produces = {
            energy = 20
            minerals = 20
            physics_research = 10
            society_research = 10
            engineering_research = 10
            influence = 3
            unity = 5
            alloys = 5
        }
        produces = {
            trigger = {
                OR = {
                    is_gestalt = no
                    has_valid_civic = civic_machine_servitor
                }
            }
            consumer_goods = 10
        }
        produces = {
            trigger = {
                OR = {
                    is_regular_empire = yes
                    is_hive_empire = yes
                }
                is_lithoid_empire = no
            }
            food = 10
        }
        produces = {
            trigger = {
                OR = {
                    is_regular_empire = yes
                    is_hive_empire = yes
                }
                is_lithoid_empire = yes
            }
            minerals = 10
        }
        produces = {
            trigger = {
                is_machine_empire = yes
            }
            energy = 10
            minerals = 10
        }
    }
    branch_office_resources = {
        category = planet_branch_offices
        cost = {
            energy = 1000
            influence = 50
        }
    }
}