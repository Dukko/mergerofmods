decision_shroud_arc = {
    icon = decision_shroud_arc
    owned_planets_only = yes
    enactment_time = 1800
    resources = {
        category = decisions
        cost = {
            energy = 2500
            sr_zro = 500
        }
    }
    potential = {
        has_global_flag = planetarydiversityshroud
        OR = {
        owner = {
            has_ascension_perk = ap_transcendence
            }
            owner = {
                has_ascension_perk = ap_synthetic_transcendence
            }
            owner = {
                has_ascension_perk = ap_machine_transcendence
            }
        }
        habitable_structure = no
        OR = {
            is_planet_class = pc_city
            is_planet_class = pc_ecocity
            is_planet_class = pc_palacearc
            is_planet_class = pc_capitalarc
            is_planet_class = pc_necropolis
            is_planet_class = pc_machine_necropolis
            is_planet_class = pc_necrohive
            is_planet_class = pc_milarc
        }
        NOT = {
            has_planet_flag = shroudedarc
        }
    }
    effect = {
        custom_tooltip = decision_shroud_world_effects_custom
        hidden_effect = {
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_housing
                        value = 1
                    }
                }
                add_district = district_pdshroudarc_housing
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_housing
                        value = 2
                    }
                }
                while = {
                    count = 2
                    add_district = district_pdshroudarc_housing
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_housing
                        value = 3
                    }
                }
                while = {
                    count = 3
                    add_district = district_pdshroudarc_housing
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_housing
                        value = 4
                    }
                }
                while = {
                    count = 4
                    add_district = district_pdshroudarc_housing
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_housing
                        value = 5
                    }
                }
                while = {
                    count = 5
                    add_district = district_pdshroudarc_housing
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_housing
                        value = 6
                    }
                }
                while = {
                    count = 6
                    add_district = district_pdshroudarc_housing
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_housing
                        value = 7
                    }
                }
                while = {
                    count = 7
                    add_district = district_pdshroudarc_housing
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_housing
                        value = 8
                    }
                }
                while = {
                    count = 8
                    add_district = district_pdshroudarc_housing
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_housing
                        value = 9
                    }
                }
                while = {
                    count = 9
                    add_district = district_pdshroudarc_housing
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_housing
                        value = 10
                    }
                }
                while = {
                    count = 10
                    add_district = district_pdshroudarc_housing
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_housing
                        value = 11
                    }
                }
                while = {
                    count = 11
                    add_district = district_pdshroudarc_housing
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_housing
                        value = 12
                    }
                }
                while = {
                    count = 12
                    add_district = district_pdshroudarc_housing
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_housing
                        value = 13
                    }
                }
                while = {
                    count = 13
                    add_district = district_pdshroudarc_housing
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_housing
                        value = 14
                    }
                }
                while = {
                    count = 14
                    add_district = district_pdshroudarc_housing
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_housing
                        value = 15
                    }
                }
                while = {
                    count = 15
                    add_district = district_pdshroudarc_housing
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_housing
                        value = 16
                    }
                }
                while = {
                    count = 16
                    add_district = district_pdshroudarc_housing
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_housing
                        value = 17
                    }
                }
                while = {
                    count = 17
                    add_district = district_pdshroudarc_housing
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_housing
                        value = 18
                    }
                }
                while = {
                    count = 18
                    add_district = district_pdshroudarc_housing
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_housing
                        value = 19
                    }
                }
                while = {
                    count = 19
                    add_district = district_pdshroudarc_housing
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_housing
                        value = 20
                    }
                }
                while = {
                    count = 20
                    add_district = district_pdshroudarc_housing
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_housing
                        value = 21
                    }
                }
                while = {
                    count = 21
                    add_district = district_pdshroudarc_housing
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_housing
                        value = 22
                    }
                }
                while = {
                    count = 22
                    add_district = district_pdshroudarc_housing
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_housing
                        value = 23
                    }
                }
                while = {
                    count = 23
                    add_district = district_pdshroudarc_housing
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_housing
                        value = 24
                    }
                }
                while = {
                    count = 24
                    add_district = district_pdshroudarc_housing
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_housing
                        value = 25
                    }
                }
                while = {
                    count = 25
                    add_district = district_pdshroudarc_housing
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_arms_industry
                        value = 1
                    }
                }
                add_district = district_pdshroudarc_arms_industry
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_arms_industry
                        value = 2
                    }
                }
                while = {
                    count = 2
                    add_district = district_pdshroudarc_arms_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_arms_industry
                        value = 3
                    }
                }
                while = {
                    count = 3
                    add_district = district_pdshroudarc_arms_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_arms_industry
                        value = 4
                    }
                }
                while = {
                    count = 4
                    add_district = district_pdshroudarc_arms_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_arms_industry
                        value = 5
                    }
                }
                while = {
                    count = 5
                    add_district = district_pdshroudarc_arms_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_arms_industry
                        value = 6
                    }
                }
                while = {
                    count = 6
                    add_district = district_pdshroudarc_arms_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_arms_industry
                        value = 7
                    }
                }
                while = {
                    count = 7
                    add_district = district_pdshroudarc_arms_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_arms_industry
                        value = 8
                    }
                }
                while = {
                    count = 8
                    add_district = district_pdshroudarc_arms_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_arms_industry
                        value = 9
                    }
                }
                while = {
                    count = 9
                    add_district = district_pdshroudarc_arms_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_arms_industry
                        value = 10
                    }
                }
                while = {
                    count = 10
                    add_district = district_pdshroudarc_arms_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_arms_industry
                        value = 11
                    }
                }
                while = {
                    count = 11
                    add_district = district_pdshroudarc_arms_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_arms_industry
                        value = 12
                    }
                }
                while = {
                    count = 12
                    add_district = district_pdshroudarc_arms_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_arms_industry
                        value = 13
                    }
                }
                while = {
                    count = 13
                    add_district = district_pdshroudarc_arms_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_arms_industry
                        value = 14
                    }
                }
                while = {
                    count = 14
                    add_district = district_pdshroudarc_arms_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_arms_industry
                        value = 15
                    }
                }
                while = {
                    count = 15
                    add_district = district_pdshroudarc_arms_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_arms_industry
                        value = 16
                    }
                }
                while = {
                    count = 16
                    add_district = district_pdshroudarc_arms_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_arms_industry
                        value = 17
                    }
                }
                while = {
                    count = 17
                    add_district = district_pdshroudarc_arms_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_arms_industry
                        value = 18
                    }
                }
                while = {
                    count = 18
                    add_district = district_pdshroudarc_arms_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_arms_industry
                        value = 19
                    }
                }
                while = {
                    count = 19
                    add_district = district_pdshroudarc_arms_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_arms_industry
                        value = 20
                    }
                }
                while = {
                    count = 20
                    add_district = district_pdshroudarc_arms_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_arms_industry
                        value = 21
                    }
                }
                while = {
                    count = 21
                    add_district = district_pdshroudarc_arms_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_arms_industry
                        value = 22
                    }
                }
                while = {
                    count = 22
                    add_district = district_pdshroudarc_arms_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_arms_industry
                        value = 23
                    }
                }
                while = {
                    count = 23
                    add_district = district_pdshroudarc_arms_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_arms_industry
                        value = 24
                    }
                }
                while = {
                    count = 24
                    add_district = district_pdshroudarc_arms_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_arms_industry
                        value = 25
                    }
                }
                while = {
                    count = 25
                    add_district = district_pdshroudarc_arms_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_civilian_industry
                        value = 1
                    }
                }
                add_district = district_pdshroudarc_civilian_industry
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_civilian_industry
                        value = 2
                    }
                }
                while = {
                    count = 2
                    add_district = district_pdshroudarc_civilian_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_civilian_industry
                        value = 3
                    }
                }
                while = {
                    count = 3
                    add_district = district_pdshroudarc_civilian_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_civilian_industry
                        value = 4
                    }
                }
                while = {
                    count = 4
                    add_district = district_pdshroudarc_civilian_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_civilian_industry
                        value = 5
                    }
                }
                while = {
                    count = 5
                    add_district = district_pdshroudarc_civilian_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_civilian_industry
                        value = 6
                    }
                }
                while = {
                    count = 6
                    add_district = district_pdshroudarc_civilian_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_civilian_industry
                        value = 7
                    }
                }
                while = {
                    count = 7
                    add_district = district_pdshroudarc_civilian_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_civilian_industry
                        value = 8
                    }
                }
                while = {
                    count = 8
                    add_district = district_pdshroudarc_civilian_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_civilian_industry
                        value = 9
                    }
                }
                while = {
                    count = 9
                    add_district = district_pdshroudarc_civilian_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_civilian_industry
                        value = 10
                    }
                }
                while = {
                    count = 10
                    add_district = district_pdshroudarc_civilian_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_civilian_industry
                        value = 11
                    }
                }
                while = {
                    count = 11
                    add_district = district_pdshroudarc_civilian_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_civilian_industry
                        value = 12
                    }
                }
                while = {
                    count = 12
                    add_district = district_pdshroudarc_civilian_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_civilian_industry
                        value = 13
                    }
                }
                while = {
                    count = 13
                    add_district = district_pdshroudarc_civilian_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_civilian_industry
                        value = 14
                    }
                }
                while = {
                    count = 14
                    add_district = district_pdshroudarc_civilian_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_civilian_industry
                        value = 15
                    }
                }
                while = {
                    count = 15
                    add_district = district_pdshroudarc_civilian_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_civilian_industry
                        value = 16
                    }
                }
                while = {
                    count = 16
                    add_district = district_pdshroudarc_civilian_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_civilian_industry
                        value = 17
                    }
                }
                while = {
                    count = 17
                    add_district = district_pdshroudarc_civilian_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_civilian_industry
                        value = 18
                    }
                }
                while = {
                    count = 18
                    add_district = district_pdshroudarc_civilian_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_civilian_industry
                        value = 19
                    }
                }
                while = {
                    count = 19
                    add_district = district_pdshroudarc_civilian_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_civilian_industry
                        value = 20
                    }
                }
                while = {
                    count = 20
                    add_district = district_pdshroudarc_civilian_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_civilian_industry
                        value = 21
                    }
                }
                while = {
                    count = 21
                    add_district = district_pdshroudarc_civilian_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_civilian_industry
                        value = 22
                    }
                }
                while = {
                    count = 22
                    add_district = district_pdshroudarc_civilian_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_civilian_industry
                        value = 23
                    }
                }
                while = {
                    count = 23
                    add_district = district_pdshroudarc_civilian_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_civilian_industry
                        value = 24
                    }
                }
                while = {
                    count = 24
                    add_district = district_pdshroudarc_civilian_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_civilian_industry
                        value = 25
                    }
                }
                while = {
                    count = 25
                    add_district = district_pdshroudarc_civilian_industry
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_leisure
                        value = 1
                    }
                }
                add_district = district_pdshroudarc_temple
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_leisure
                        value = 2
                    }
                }
                while = {
                    count = 2
                    add_district = district_pdshroudarc_temple
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_leisure
                        value = 3
                    }
                }
                while = {
                    count = 3
                    add_district = district_pdshroudarc_temple
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_leisure
                        value = 4
                    }
                }
                while = {
                    count = 4
                    add_district = district_pdshroudarc_temple
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_leisure
                        value = 5
                    }
                }
                while = {
                    count = 5
                    add_district = district_pdshroudarc_temple
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_leisure
                        value = 6
                    }
                }
                while = {
                    count = 6
                    add_district = district_pdshroudarc_temple
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_leisure
                        value = 7
                    }
                }
                while = {
                    count = 7
                    add_district = district_pdshroudarc_temple
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_leisure
                        value = 8
                    }
                }
                while = {
                    count = 8
                    add_district = district_pdshroudarc_temple
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_leisure
                        value = 9
                    }
                }
                while = {
                    count = 9
                    add_district = district_pdshroudarc_temple
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_leisure
                        value = 10
                    }
                }
                while = {
                    count = 10
                    add_district = district_pdshroudarc_temple
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_leisure
                        value = 11
                    }
                }
                while = {
                    count = 11
                    add_district = district_pdshroudarc_temple
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_leisure
                        value = 12
                    }
                }
                while = {
                    count = 12
                    add_district = district_pdshroudarc_temple
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_leisure
                        value = 13
                    }
                }
                while = {
                    count = 13
                    add_district = district_pdshroudarc_temple
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_leisure
                        value = 14
                    }
                }
                while = {
                    count = 14
                    add_district = district_pdshroudarc_temple
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_leisure
                        value = 15
                    }
                }
                while = {
                    count = 15
                    add_district = district_pdshroudarc_temple
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_leisure
                        value = 16
                    }
                }
                while = {
                    count = 16
                    add_district = district_pdshroudarc_temple
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_leisure
                        value = 17
                    }
                }
                while = {
                    count = 17
                    add_district = district_pdshroudarc_temple
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_leisure
                        value = 18
                    }
                }
                while = {
                    count = 18
                    add_district = district_pdshroudarc_temple
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_leisure
                        value = 19
                    }
                }
                while = {
                    count = 19
                    add_district = district_pdshroudarc_temple
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_leisure
                        value = 20
                    }
                }
                while = {
                    count = 20
                    add_district = district_pdshroudarc_temple
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_leisure
                        value = 21
                    }
                }
                while = {
                    count = 21
                    add_district = district_pdshroudarc_temple
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_leisure
                        value = 22
                    }
                }
                while = {
                    count = 22
                    add_district = district_pdshroudarc_temple
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_leisure
                        value = 23
                    }
                }
                while = {
                    count = 23
                    add_district = district_pdshroudarc_temple
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_leisure
                        value = 24
                    }
                }
                while = {
                    count = 24
                    add_district = district_pdshroudarc_temple
                }
            }
            if = {
                limit = {
                    num_districts = {
                        type = district_arcology_leisure
                        value = 25
                    }
                }
                while = {
                    count = 25
                    add_district = district_pdshroudarc_temple
                }
            }
        }
        if = {
            limit = {
                is_planet_class = pc_city
            }
            change_pc = pc_shroudcity
        }
        if = {
            limit = {
                is_planet_class = pc_ecocity
            }
            set_planet_entity = {
                entity = ecoshroud_planet_01_entity
                picture = pc_shroudcity
            }
            set_planet_flag = shroudedarc
        }
        if = {
            limit = {
                is_planet_class = pc_palacearc
            }
            set_planet_entity = {
                entity = sshroudpalacearc_planet_01_entity
                picture = pc_shroudpalacearc
            }
            set_planet_flag = shroudedarc
        }
        if = {
            limit = {
                is_planet_class = pc_capitalarc
            }
            set_planet_entity = {
                entity = shroudpalacearc_planet_01_entity
                picture = pc_shroudpalacearc
            }
            set_planet_flag = shroudedarc
        }
        if = {
            limit = {
                is_planet_class = pc_milarc
            }
            set_planet_entity = {
                entity = milarcshroud_planet_01_entity
                picture = pc_shroudmilarc
            }
            set_planet_flag = shroudedarc
        }
    }
    ai_weight = {
        weight = 0
        modifier = {
            factor = 0
            or = {
                free_building_slots > 0
                owner = {
                    or = {
                        resource_stockpile_compare = {
                            resource = energy
                            value < 6000
                        }
                        resource_stockpile_compare = {
                            resource = sr_zro
                            value < 500
                        }
                    }
                }
            }
        }
    }
}