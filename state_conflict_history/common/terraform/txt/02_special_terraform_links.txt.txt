@gaiaCost = 7500
@gaiaTime = 3600
@machineCost = 10000
@machineTime = 7200
@hiveCost = 10000
@hiveTime = 7200
################
## Tomb World ##
################
terraform_link = {
    from = "pc_nuked"
    to = "pc_desert"
    energy = 10000
    duration = 7200
    potential = {
        NOT = { has_global_flag = planetarydiversity }
    }
    condition = {
        has_technology = "tech_climate_restoration"
    }
    ai_weight = {
        weight = 2
        modifier = {
            factor = 0
            OR = {
                is_mechanical_empire = yes
                is_cyborg_empire = yes
                has_authority = auth_machine_intelligence
            }
        }
    }
}
terraform_link = {
    from = "pc_nuked"
    to = "pc_arid"
    energy = 10000
    duration = 7200
    potential = {
        NOT = { has_global_flag = planetarydiversity }
    }
    condition = {
        has_technology = "tech_climate_restoration"
    }
    ai_weight = {
        weight = 2
        modifier = {
            factor = 0
            OR = {
                is_mechanical_empire = yes
                is_cyborg_empire = yes
                has_authority = auth_machine_intelligence
            }
        }
    }
}
terraform_link = {
    from = "pc_nuked"
    to = "pc_savannah"
    energy = 10000
    duration = 7200
    potential = {
        NOT = { has_global_flag = planetarydiversity }
    }
    condition = {
        has_technology = "tech_climate_restoration"
    }
    ai_weight = {
        weight = 2
        modifier = {
            factor = 0
            OR = {
                is_mechanical_empire = yes
                is_cyborg_empire = yes
                has_authority = auth_machine_intelligence
            }
        }
    }
}
terraform_link = {
    from = "pc_nuked"
    to = "pc_arctic"
    energy = 10000
    duration = 7200
    potential = {
        NOT = { has_global_flag = planetarydiversity }
    }
    condition = {
        has_technology = "tech_climate_restoration"
    }
    ai_weight = {
        weight = 2
        modifier = {
            factor = 0
            OR = {
                is_mechanical_empire = yes
                is_cyborg_empire = yes
                has_authority = auth_machine_intelligence
            }
        }
    }
}
terraform_link = {
    from = "pc_nuked"
    to = "pc_tundra"
    energy = 10000
    duration = 7200
    potential = {
        NOT = { has_global_flag = planetarydiversity }
    }
    condition = {
        has_technology = "tech_climate_restoration"
    }
    ai_weight = {
        weight = 2
        modifier = {
            factor = 0
            OR = {
                is_mechanical_empire = yes
                is_cyborg_empire = yes
                has_authority = auth_machine_intelligence
            }
        }
    }
}
terraform_link = {
    from = "pc_nuked"
    to = "pc_alpine"
    energy = 10000
    duration = 7200
    potential = {
        NOT = { has_global_flag = planetarydiversity }
    }
    condition = {
        has_technology = "tech_climate_restoration"
    }
    ai_weight = {
        weight = 2
        modifier = {
            factor = 0
            OR = {
                is_mechanical_empire = yes
                is_cyborg_empire = yes
                has_authority = auth_machine_intelligence
            }
        }
    }
}
terraform_link = {
    from = "pc_nuked"
    to = "pc_continental"
    energy = 10000
    duration = 7200
    potential = {
        NOT = { has_global_flag = planetarydiversity }
    }
    condition = {
        has_technology = "tech_climate_restoration"
    }
    ai_weight = {
        weight = 2
        modifier = {
            factor = 0
            OR = {
                is_mechanical_empire = yes
                is_cyborg_empire = yes
                has_authority = auth_machine_intelligence
            }
        }
    }
}
terraform_link = {
    from = "pc_nuked"
    to = "pc_tropical"
    energy = 10000
    duration = 7200
    potential = {
        NOT = { has_global_flag = planetarydiversity }
    }
    condition = {
        has_technology = "tech_climate_restoration"
    }
    ai_weight = {
        weight = 2
        modifier = {
            factor = 0
            OR = {
                is_mechanical_empire = yes
                is_cyborg_empire = yes
                has_authority = auth_machine_intelligence
            }
        }
    }
}
terraform_link = {
    from = "pc_nuked"
    to = "pc_ocean"
    energy = 10000
    duration = 7200
    potential = {
        NOT = { has_global_flag = planetarydiversity }
    }
    condition = {
        has_technology = "tech_climate_restoration"
    }
    ai_weight = {
        weight = 2
        modifier = {
            factor = 0
            OR = {
                is_mechanical_empire = yes
                is_cyborg_empire = yes
                has_authority = auth_machine_intelligence
            }
        }
    }
}
################
## Gaia World ##
################
terraform_link = {
    to = "pc_gaia"
    from = "pc_desert"
    energy = @gaiaCost
    duration = @gaiaTime
    potential = {
        NOT = { has_global_flag = planetarydiversity }
    }
    potential = {
        has_ascension_perk = "ap_world_shaper"
    }
    ai_weight = {
        weight = 5
        modifier = {
            factor = 0    
            resource_stockpile_compare = { resource = energy value < 8000 }
        }
        # TODO: Fix
        #modifier = {
        #    factor = 0        
        #    from = { sector_controlled = yes }
        #}
    }
}
terraform_link = {
    from = "pc_arid"
    to = "pc_gaia"
    energy = @gaiaCost
    duration = @gaiaTime
    potential = {
        NOT = { has_global_flag = planetarydiversity }
    }
    potential = {
        has_ascension_perk = "ap_world_shaper"
    }
    ai_weight = {
        weight = 5
        modifier = {
            factor = 0    
            resource_stockpile_compare = { resource = energy value < 10000 }
        }
        # TODO: Fix
        #modifier = {
        #    factor = 0        
        #    from = { sector_controlled = yes }
        #}
    }
}
terraform_link = {
    to = "pc_gaia"
    from = "pc_savannah"
    energy = @gaiaCost
    duration = @gaiaTime
    potential = {
        NOT = { has_global_flag = planetarydiversity }
    }
    potential = {
        has_ascension_perk = "ap_world_shaper"
    }
    ai_weight = {
        weight = 5
        modifier = {
            factor = 0    
            resource_stockpile_compare = { resource = energy value < 8000 }
        }
    }
}
terraform_link = {
    to = "pc_gaia"
    from = "pc_arctic"
    energy = @gaiaCost
    duration = @gaiaTime
    potential = {
        NOT = { has_global_flag = planetarydiversity }
    }
    potential = {
        has_ascension_perk = "ap_world_shaper"
    }
    ai_weight = {
        weight = 5
        modifier = {
            factor = 0    
            resource_stockpile_compare = { resource = energy value < 10000 }
        }
        # TODO: Fix
        #modifier = {
        #    factor = 0        
        #    from = { sector_controlled = yes }
        #}
    }
}
terraform_link = {
    to = "pc_gaia"
    from = "pc_tundra"
    energy = @gaiaCost
    duration = @gaiaTime
    potential = {
        NOT = { has_global_flag = planetarydiversity }
    }
    potential = {
        has_ascension_perk = "ap_world_shaper"
    }
    ai_weight = {
        weight = 5
        modifier = {
            factor = 0    
            resource_stockpile_compare = { resource = energy value < 8000 }
        }
    }
}
terraform_link = {
    to = "pc_gaia"
    from = "pc_alpine"
    energy = @gaiaCost
    duration = @gaiaTime
    potential = {
        NOT = { has_global_flag = planetarydiversity }
    }
    potential = {
        has_ascension_perk = "ap_world_shaper"
    }
    ai_weight = {
        weight = 5
        modifier = {
            factor = 0    
            resource_stockpile_compare = { resource = energy value < 8000 }
        }
    }
}
terraform_link = {
    to = "pc_gaia"
    from = "pc_continental"
    energy = @gaiaCost
    duration = @gaiaTime
    potential = {
        NOT = { has_global_flag = planetarydiversity }
    }
    potential = {
        has_ascension_perk = "ap_world_shaper"
    }
    ai_weight = {
        weight = 5
        modifier = {
            factor = 0    
            resource_stockpile_compare = { resource = energy value < 8000 }
        }
    }
}
terraform_link = {
    to = "pc_gaia"
    from = "pc_tropical"
    energy = @gaiaCost
    duration = @gaiaTime
    potential = {
        NOT = { has_global_flag = planetarydiversity }
    }
    potential = {
        has_ascension_perk = "ap_world_shaper"
    }
    ai_weight = {
        weight = 5
        modifier = {
            factor = 0    
            resource_stockpile_compare = { resource = energy value < 8000 }
        }
    }
}
terraform_link = {
    to = "pc_gaia"
    from = "pc_ocean"
    energy = @gaiaCost
    duration = @gaiaTime
    potential = {
        NOT = { has_global_flag = planetarydiversity }
    }
    potential = {
        has_ascension_perk = "ap_world_shaper"
    }
    ai_weight = {
        weight = 5
        modifier = {
            factor = 0    
            resource_stockpile_compare = { resource = energy value < 8000 }
        }
    }
}
terraform_link = {
    from = "pc_barren"
    to = "pc_gaia"
    energy = @gaiaCost
    duration = @gaiaTime
    potential = {
        has_ascension_perk = "ap_world_shaper"
        from = { has_modifier = terraforming_candidate }
    }
    condition = {
        has_technology = "tech_climate_restoration"
    }
    effect = {
        from = { remove_modifier = terraforming_candidate }
    }
    ai_weight = {
        weight = 5
        modifier = {
            factor = 0    
            resource_stockpile_compare = { resource = energy value < 8000 }
        }
    }
}
terraform_link = {
    from = "pc_barren_cold"
    to = "pc_gaia"
    energy = @gaiaCost
    duration = @gaiaTime
    potential = {
        has_ascension_perk = "ap_world_shaper"
        from = { has_modifier = terraforming_candidate }
    }
    condition = {
        has_technology = "tech_climate_restoration"
    }
    effect = {
        from = { remove_modifier = terraforming_candidate }
    }
    ai_weight = {
        weight = 5
        modifier = {
            factor = 0    
            resource_stockpile_compare = { resource = energy value < 8000 }
        }
    }
}
##################
## Barren World ##
##################
terraform_link = {
    from = "pc_barren"
    to = "pc_desert"
    energy = 5000
    duration = 3600
    potential = {
        from = { has_modifier = terraforming_candidate }
        NOT = { has_global_flag = planetarydiversity }
    }
    condition = {
        has_technology = "tech_climate_restoration"
    }
    effect = {
        from = { remove_modifier = terraforming_candidate }
    }
    ai_weight = {
        weight = 5
    }
}
terraform_link = {
    from = "pc_barren"
    to = "pc_arid"
    energy = 5000
    duration = 3600
    potential = {
        from = { has_modifier = terraforming_candidate }
        NOT = { has_global_flag = planetarydiversity }
    }
    condition = {
        has_technology = "tech_climate_restoration"
    }
    effect = {
        from = { remove_modifier = terraforming_candidate }
    }
    ai_weight = {
        weight = 5
    }
}
terraform_link = {
    from = "pc_barren"
    to = "pc_savannah"
    energy = 5000
    duration = 3600
    potential = {
        from = { has_modifier = terraforming_candidate }
        NOT = { has_global_flag = planetarydiversity }
    }
    condition = {
        has_technology = "tech_climate_restoration"
    }
    effect = {
        from = { remove_modifier = terraforming_candidate }
    }
    ai_weight = {
        weight = 5
    }
}
terraform_link = {
    from = "pc_barren"
    to = "pc_continental"
    energy = 10000
    duration = 5400
    potential = {
        from = { has_modifier = terraforming_candidate }
        NOT = { has_global_flag = planetarydiversity }
    }
    condition = {
        has_technology = "tech_climate_restoration"
    }
    effect = {
        from = { remove_modifier = terraforming_candidate }
    }
    ai_weight = {
        weight = 5
    }
}
terraform_link = {
    from = "pc_barren"
    to = "pc_tropical"
    energy = 10000
    duration = 5400
    potential = {
        from = { has_modifier = terraforming_candidate }
        NOT = { has_global_flag = planetarydiversity }
    }
    condition = {
        has_technology = "tech_climate_restoration"
    }
    effect = {
        from = { remove_modifier = terraforming_candidate }
    }
    ai_weight = {
        weight = 5
    }
}
terraform_link = {
    from = "pc_barren"
    to = "pc_ocean"
    energy = 10000
    duration = 5400
    potential = {
        from = { has_modifier = terraforming_candidate }
        NOT = { has_global_flag = planetarydiversity }
    }
    condition = {
        has_technology = "tech_climate_restoration"
    }
    effect = {
        from = { remove_modifier = terraforming_candidate }
    }
    ai_weight = {
        weight = 5
    }
}
terraform_link = {
    from = "pc_barren"
    to = "pc_arctic"
    energy = 15000
    duration = 7200
    potential = {
        from = { has_modifier = terraforming_candidate }
        NOT = { has_global_flag = planetarydiversity }
    }
    condition = {
        has_technology = "tech_climate_restoration"
    }
    effect = {
        from = { remove_modifier = terraforming_candidate }
    }
    ai_weight = {
        weight = 5
    }
}
terraform_link = {
    from = "pc_barren"
    to = "pc_tundra"
    energy = 15000
    duration = 7200
    potential = {
        from = { has_modifier = terraforming_candidate }
        NOT = { has_global_flag = planetarydiversity }
    }
    condition = {
        has_technology = "tech_climate_restoration"
    }
    effect = {
        from = { remove_modifier = terraforming_candidate }
    }
    ai_weight = {
        weight = 5
    }
}
terraform_link = {
    from = "pc_barren"
    to = "pc_alpine"
    energy = 15000
    duration = 7200
    potential = {
        from = { has_modifier = terraforming_candidate }
        NOT = { has_global_flag = planetarydiversity }
    }
    condition = {
        has_technology = "tech_climate_restoration"
    }
    effect = {
        from = { remove_modifier = terraforming_candidate }
    }
    ai_weight = {
        weight = 5
    }
}
terraform_link = {
    from = "pc_barren_cold"
    to = "pc_arctic"
    energy = 5000
    duration = 3600
    potential = {
        from = { has_modifier = terraforming_candidate }
        NOT = { has_global_flag = planetarydiversity }
    }
    condition = {
        has_technology = "tech_climate_restoration"
    }
    effect = {
        from = { remove_modifier = terraforming_candidate }
    }
    ai_weight = {
        weight = 5
    }
}
terraform_link = {
    from = "pc_barren_cold"
    to = "pc_tundra"
    energy = 5000
    duration = 3600
    potential = {
        from = { has_modifier = terraforming_candidate }
        NOT = { has_global_flag = planetarydiversity }
    }
    condition = {
        has_technology = "tech_climate_restoration"
    } 
    effect = {
        from = { remove_modifier = terraforming_candidate }
    }
    ai_weight = {
        weight = 5
    }
}
terraform_link = {
    from = "pc_barren_cold"
    to = "pc_alpine"
    energy = 5000
    duration = 3600
    potential = {
        from = { has_modifier = terraforming_candidate }
        NOT = { has_global_flag = planetarydiversity }
    }
    condition = {
        has_technology = "tech_climate_restoration"
    }
    effect = {
        from = { remove_modifier = terraforming_candidate }
    }
    ai_weight = {
        weight = 5
    }
}
terraform_link = {
    from = "pc_barren_cold"
    to = "pc_continental"
    energy = 10000
    duration = 5400
    potential = {
        from = { has_modifier = terraforming_candidate }
        NOT = { has_global_flag = planetarydiversity }
    }
    condition = {
        has_technology = "tech_climate_restoration"
    }
    effect = {
        from = { remove_modifier = terraforming_candidate }
    }
    ai_weight = {
        weight = 5
    }
}
terraform_link = {
    from = "pc_barren_cold"
    to = "pc_tropical"
    energy = 10000
    duration = 5400
    potential = {
        from = { has_modifier = terraforming_candidate }
        NOT = { has_global_flag = planetarydiversity }
    }
    condition = {
        has_technology = "tech_climate_restoration"
    }
    effect = {
        from = { remove_modifier = terraforming_candidate }
    }
    ai_weight = {
        weight = 5
    }
}
terraform_link = {
    from = "pc_barren_cold"
    to = "pc_ocean"
    energy = 10000
    duration = 5400
    potential = {
        from = { has_modifier = terraforming_candidate }
        NOT = { has_global_flag = planetarydiversity }
    }
    condition = {
        has_technology = "tech_climate_restoration"
    }
    effect = {
        from = { remove_modifier = terraforming_candidate }
    }
    ai_weight = {
        weight = 5
    }
}
terraform_link = {
    from = "pc_barren_cold"
    to = "pc_desert"
    energy = 15000
    duration = 7200
    potential = {
        from = { has_modifier = terraforming_candidate }
        NOT = { has_global_flag = planetarydiversity }
    }
    condition = {
        has_technology = "tech_climate_restoration"
    }
    effect = {
        from = { remove_modifier = terraforming_candidate }
    }
    ai_weight = {
        weight = 5
    }
}
terraform_link = {
    from = "pc_barren_cold"
    to = "pc_arid"
    energy = 15000
    duration = 7200
    potential = {
        from = { has_modifier = terraforming_candidate }
        NOT = { has_global_flag = planetarydiversity }
    }
    condition = {
        has_technology = "tech_climate_restoration"
    }
    effect = {
        from = { remove_modifier = terraforming_candidate }
    }
    ai_weight = {
        weight = 5
    }
}
terraform_link = {
    from = "pc_barren_cold"
    to = "pc_savannah"
    energy = 15000
    duration = 7200
    potential = {
        from = { has_modifier = terraforming_candidate }
        NOT = { has_global_flag = planetarydiversity }
    }
    condition = {
        has_technology = "tech_climate_restoration"
    }
    effect = {
        from = { remove_modifier = terraforming_candidate }
    }
    ai_weight = {
        weight = 5
    }
}
###################
## Machine World ##
###################
terraform_link = {
    to = "pc_machine"
    from = "pc_barren"
    energy = @machineCost
    duration = @machineTime
    potential = {
        has_ascension_perk = ap_machine_worlds
        gpm_has_required_terraform_modifier = yes
        NOT = { has_global_flag = planetarydiversity }
    }
    ai_weight = {
        weight = 20
        modifier = {
            factor = 0
            from = {
                any_owned_pop = {
                    NOR = {
                        has_trait = trait_machine_unit
                        has_trait = trait_mechanical
                    }
                }
            }
        }
        modifier = {
            factor = 0
            from = {
                is_colony = no
            }
        }
    }
}
terraform_link = {
    to = "pc_machine"
    from = "pc_barren_cold"
    energy = @machineCost
    duration = @machineTime
    potential = {
        has_ascension_perk = ap_machine_worlds
        gpm_has_required_terraform_modifier = yes
        NOT = { has_global_flag = planetarydiversity }
    }
    ai_weight = {
        weight = 20
        modifier = {
            factor = 0
            from = {
                any_owned_pop = {
                    NOR = {
                        has_trait = trait_machine_unit
                        has_trait = trait_mechanical
                    }
                }
            }
        }
        modifier = {
            factor = 0
            from = {
                is_colony = no
            }
        }        
    }
}
terraform_link = {
    to = "pc_machine"
    from = "pc_nuked"
    energy = @machineCost
    duration = @machineTime
    potential = {
        has_ascension_perk = ap_machine_worlds
        NOT = { has_global_flag = planetarydiversity }
    }
    ai_weight = {
        weight = 10
        modifier = {
            factor = 0
            from = {
                any_owned_pop = {
                    NOR = {
                        has_trait = trait_machine_unit
                        has_trait = trait_mechanical
                    }
                }
            }
        }
        modifier = {
            factor = 0
            from = {
                is_colony = no
            }
        }
    }
}
terraform_link = {
    to = "pc_machine"
    from = "pc_gaia"
    energy = @machineCost
    duration = @machineTime
    potential = {
        has_ascension_perk = ap_machine_worlds
        NOT = { has_global_flag = planetarydiversity }
    }
    condition = { 
        from = {
            OR = {
                is_owned_by = root
                NOT = { has_modifier = "holy_planet" }
            }        
        }
    }
    ai_weight = {
        weight = 10
        modifier = {
            factor = 0
            from = {
                any_owned_pop = {
                    NOR = {
                        has_trait = trait_machine_unit
                        has_trait = trait_mechanical
                    }
                }
            }
        }
        modifier = {
            factor = 0
            from = {
                is_colony = no
            }
        }
    }
}
terraform_link = {
    to = "pc_machine"
    from = "pc_hive"
    energy = @machineCost
    duration = @machineTime
    potential = {
        has_ascension_perk = ap_machine_worlds
        NOT = { has_global_flag = planetarydiversity }
    }
    ai_weight = {
        weight = 10
        modifier = {
            factor = 0
            from = {
                any_owned_pop = {
                    NOR = {
                        has_trait = trait_machine_unit
                        has_trait = trait_mechanical
                    }
                }
            }
        }
    }
}
terraform_link = {
    to = "pc_machine"
    from = "pc_desert"
    energy = @machineCost
    duration = @machineTime
    potential = {
        has_ascension_perk = ap_machine_worlds
        NOT = { has_global_flag = planetarydiversity }
    }
    ai_weight = {
        weight = 10
        modifier = {
            factor = 0
            from = {
                any_owned_pop = {
                    NOR = {
                        has_trait = trait_machine_unit
                        has_trait = trait_mechanical
                    }
                }
            }
        }
        modifier = {
            factor = 0
            from = {
                is_colony = no
            }
        }
    }
}
terraform_link = {
    from = "pc_arid"
    to = "pc_machine"
    energy = @machineCost
    duration = @machineTime
    potential = {
        has_ascension_perk = ap_machine_worlds
        NOT = { has_global_flag = planetarydiversity }
    }
    ai_weight = {
        weight = 10
        modifier = {
            factor = 0
            from = {
                any_owned_pop = {
                    NOR = {
                        has_trait = trait_machine_unit
                        has_trait = trait_mechanical
                    }
                }
            }
        }
        modifier = {
            factor = 0
            from = {
                is_colony = no
            }
        }
    }
}
terraform_link = {
    to = "pc_machine"
    from = "pc_savannah"
    energy = @machineCost
    duration = @machineTime
    potential = {
        has_ascension_perk = ap_machine_worlds
        NOT = { has_global_flag = planetarydiversity }
    }
    ai_weight = {
        weight = 10
        modifier = {
            factor = 0
            from = {
                any_owned_pop = {
                    NOR = {
                        has_trait = trait_machine_unit
                        has_trait = trait_mechanical
                    }
                }
            }
        }
        modifier = {
            factor = 0
            from = {
                is_colony = no
            }
        }        
    }
}
terraform_link = {
    to = "pc_machine"
    from = "pc_arctic"
    energy = @machineCost
    duration = @machineTime
    potential = {
        has_ascension_perk = ap_machine_worlds
        NOT = { has_global_flag = planetarydiversity }
    }
    ai_weight = {
        weight = 10
        modifier = {
            factor = 0
            from = {
                any_owned_pop = {
                    NOR = {
                        has_trait = trait_machine_unit
                        has_trait = trait_mechanical
                    }
                }
            }
        }
        modifier = {
            factor = 0
            from = {
                is_colony = no
            }
        }
    }
}
terraform_link = {
    to = "pc_machine"
    from = "pc_tundra"
    energy = @machineCost
    duration = @machineTime
    potential = {
        has_ascension_perk = ap_machine_worlds
        NOT = { has_global_flag = planetarydiversity }
    }
    ai_weight = {
        weight = 10
        modifier = {
            factor = 0
            from = {
                any_owned_pop = {
                    NOR = {
                        has_trait = trait_machine_unit
                        has_trait = trait_mechanical
                    }
                }
            }
        }
        modifier = {
            factor = 0
            from = {
                is_colony = no
            }
        }
    }
}
terraform_link = {
    to = "pc_machine"
    from = "pc_alpine"
    energy = @machineCost
    duration = @machineTime
    potential = {
        has_ascension_perk = ap_machine_worlds
        NOT = { has_global_flag = planetarydiversity }
    }
    ai_weight = {
        weight = 10
        modifier = {
            factor = 0
            from = {
                any_owned_pop = {
                    NOR = {
                        has_trait = trait_machine_unit
                        has_trait = trait_mechanical
                    }
                }
            }
        }
        modifier = {
            factor = 0
            from = {
                is_colony = no
            }
        }
    }
}
terraform_link = {
    to = "pc_machine"
    from = "pc_continental"
    energy = @machineCost
    duration = @machineTime
    potential = {
        has_ascension_perk = ap_machine_worlds
        NOT = { has_global_flag = planetarydiversity }
    }
    ai_weight = {
        weight = 10
        modifier = {
            factor = 0
            from = {
                any_owned_pop = {
                    NOR = {
                        has_trait = trait_machine_unit
                        has_trait = trait_mechanical
                    }
                }
            }
        }
        modifier = {
            factor = 0
            from = {
                is_colony = no
            }
        }
    }
}
terraform_link = {
    to = "pc_machine"
    from = "pc_tropical"
    energy = @machineCost
    duration = @machineTime
    potential = {
        has_ascension_perk = ap_machine_worlds
        NOT = { has_global_flag = planetarydiversity }
    }
    ai_weight = {
        weight = 10
        modifier = {
            factor = 0
            from = {
                any_owned_pop = {
                    NOR = {
                        has_trait = trait_machine_unit
                        has_trait = trait_mechanical
                    }
                }
            }
        }
        modifier = {
            factor = 0
            from = {
                is_colony = no
            }
        }
    }
}
terraform_link = {
    to = "pc_machine"
    from = "pc_ocean"
    energy = @machineCost
    duration = @machineTime
    potential = {
        has_ascension_perk = ap_machine_worlds
        NOT = { has_global_flag = planetarydiversity }
    }
    ai_weight = {
        weight = 10
        modifier = {
            factor = 0
            from = {
                any_owned_pop = {
                    NOR = {
                        has_trait = trait_machine_unit
                        has_trait = trait_mechanical
                    }
                }
            }
        }
        modifier = {
            factor = 0
            from = {
                is_colony = no
            }
        }
    }
}
terraform_link = {
    from = "pc_machine"
    to = "pc_desert"
    energy = @machineCost
    duration = @machineTime
    potential = {
        has_technology = tech_climate_restoration
        NOT = { has_global_flag = planetarydiversity }
    }
    effect = {
        from = {
            reroll_deposits = yes
            clear_blockers = yes
        }
    }
    ai_weight = {
        weight = 5
        modifier = {
            factor = 0
            has_authority = auth_machine_intelligence
        }
    }
}
terraform_link = {
    to = "pc_arid"
    from = "pc_machine"
    energy = @machineCost
    duration = @machineTime
    potential = {
        has_technology = tech_climate_restoration
        NOT = { has_global_flag = planetarydiversity }
    }
    effect = {
        from = {
            reroll_deposits = yes
            clear_blockers = yes
        }
    }
    ai_weight = {
        weight = 5
        modifier = {
            factor = 0
            has_authority = auth_machine_intelligence
        }
    }
}
terraform_link = {
    from = "pc_machine"
    to = "pc_savannah"
    energy = @machineCost
    duration = @machineTime
    potential = {
        has_technology = tech_climate_restoration
        NOT = { has_global_flag = planetarydiversity }
    }
    effect = {
        from = {
            reroll_deposits = yes
            clear_blockers = yes
        }
    }
    ai_weight = {
        weight = 5
        modifier = {
            factor = 0
            has_authority = auth_machine_intelligence
        }
    }
}
terraform_link = {
    from = "pc_machine"
    to = "pc_arctic"
    energy = @machineCost
    duration = @machineTime
    potential = {
        has_technology = tech_climate_restoration
        NOT = { has_global_flag = planetarydiversity }
    }
    effect = {
        from = {
            reroll_deposits = yes
            clear_blockers = yes
        }
    }
    ai_weight = {
        weight = 5
        modifier = {
            factor = 0
            has_authority = auth_machine_intelligence
        }
    }
}
terraform_link = {
    from = "pc_machine"
    to = "pc_tundra"
    energy = @machineCost
    duration = @machineTime
    potential = {
        has_technology = tech_climate_restoration
        NOT = { has_global_flag = planetarydiversity }
    }
    effect = {
        from = {
            reroll_deposits = yes
            clear_blockers = yes
        }
    }
    ai_weight = {
        weight = 5
        modifier = {
            factor = 0
            has_authority = auth_machine_intelligence
        }
    }
}
terraform_link = {
    from = "pc_machine"
    to = "pc_alpine"
    energy = @machineCost
    duration = @machineTime
    potential = {
        has_technology = tech_climate_restoration
        NOT = { has_global_flag = planetarydiversity }
    }
    effect = {
        from = {
            reroll_deposits = yes
            clear_blockers = yes
        }
    }
    ai_weight = {
        weight = 5
        modifier = {
            factor = 0
            has_authority = auth_machine_intelligence
        }
    }
}
terraform_link = {
    from = "pc_machine"
    to = "pc_continental"
    energy = @machineCost
    duration = @machineTime
    potential = {
        has_technology = tech_climate_restoration
        NOT = { has_global_flag = planetarydiversity }
    }
    effect = {
        from = {
            reroll_deposits = yes
            clear_blockers = yes
        }
    }
    ai_weight = {
        weight = 5
        modifier = {
            factor = 0
            has_authority = auth_machine_intelligence
        }
    }
}
terraform_link = {
    from = "pc_machine"
    to = "pc_tropical"
    energy = @machineCost
    duration = @machineTime
    potential = {
        has_technology = tech_climate_restoration
        NOT = { has_global_flag = planetarydiversity }
    }
    effect = {
        from = {
            reroll_deposits = yes
            clear_blockers = yes
        }
    }
    ai_weight = {
        weight = 5
        modifier = {
            factor = 0
            has_authority = auth_machine_intelligence
        }
    }
}
terraform_link = {
    from = "pc_machine"
    to = "pc_ocean"
    energy = @machineCost
    duration = @machineTime
    potential = {
        has_technology = tech_climate_restoration
        NOT = { has_global_flag = planetarydiversity }
    }
    effect = {
        from = {
            reroll_deposits = yes
            clear_blockers = yes
        }
    }
    ai_weight = {
        weight = 5
        modifier = {
            factor = 0
            has_authority = auth_machine_intelligence
        }
    }
}
###################
## Hive World ##
###################
terraform_link = {
    to = "pc_hive"
    from = "pc_barren"
    energy = @hiveCost
    duration = @hiveTime
    potential = {
        has_ascension_perk = ap_hive_worlds
        from = { has_modifier = terraforming_candidate }
        NOT = { has_global_flag = planetarydiversity }
    }
    ai_weight = {
        weight = 20
        modifier = {
            factor = 0
            from = {
                any_owned_pop = {
                    NOT = { has_trait = trait_hive_mind }
                }
            }
        }
        modifier = {
            factor = 0
            from = {
                is_colony = no
            }
        }
    }
}
terraform_link = {
    to = "pc_hive"
    from = "pc_barren_cold"
    energy = @hiveCost
    duration = @hiveTime
    potential = {
        has_ascension_perk = ap_hive_worlds
        from = { has_modifier = terraforming_candidate }
        NOT = { has_global_flag = planetarydiversity }
    }
    ai_weight = {
        weight = 20
        modifier = {
            factor = 0
            from = {
                any_owned_pop = {
                    NOT = { has_trait = trait_hive_mind }
                }
            }
        }
        modifier = {
            factor = 0
            from = {
                is_colony = no
            }
        }        
    }
}
terraform_link = {
    to = "pc_hive"
    from = "pc_nuked"
    energy = @hiveCost
    duration = @hiveTime
    potential = {
        has_ascension_perk = ap_hive_worlds
        NOT = { has_global_flag = planetarydiversity }
    }
    ai_weight = {
        weight = 10
        modifier = {
            factor = 0
            from = {
                any_owned_pop = {
                    NOT = { has_trait = trait_hive_mind }
                }
            }
        }
        modifier = {
            factor = 0
            from = {
                is_colony = no
            }
        }
    }
}
terraform_link = {
    to = "pc_hive"
    from = "pc_gaia"
    energy = @hiveCost
    duration = @hiveTime
    potential = {
        has_ascension_perk = ap_hive_worlds
        NOT = { has_global_flag = planetarydiversity }
    }
    condition = { 
        from = {
            OR = {
                is_owned_by = root
                NOT = { has_modifier = "holy_planet" }
            }        
        }
    }
    ai_weight = {
        weight = 10
        modifier = {
            factor = 0
            from = {
                any_owned_pop = {
                    NOT = { has_trait = trait_hive_mind }
                }
            }
        }
        modifier = {
            factor = 0
            from = {
                is_colony = no
            }
        }
    }
}
terraform_link = {
    to = "pc_hive"
    from = "pc_machine"
    energy = @hiveCost
    duration = @hiveTime
    potential = {
        has_ascension_perk = ap_hive_worlds
        NOT = { has_global_flag = planetarydiversity }
    }
    ai_weight = {
        weight = 10
        modifier = {
            factor = 0
            from = {
                any_owned_pop = {
                    NOT = { has_trait = trait_hive_mind }
                }
            }
        }
    }
}
terraform_link = {
    to = "pc_hive"
    from = "pc_desert"
    energy = @hiveCost
    duration = @hiveTime
    potential = {
        has_ascension_perk = ap_hive_worlds
        NOT = { has_global_flag = planetarydiversity }
    }
    ai_weight = {
        weight = 10
        modifier = {
            factor = 0
            from = {
                any_owned_pop = {
                    NOT = { has_trait = trait_hive_mind }
                }
            }
        }
        modifier = {
            factor = 0
            from = {
                is_colony = no
            }
        }
    }
}
terraform_link = {
    from = "pc_arid"
    to = "pc_hive"
    energy = @hiveCost
    duration = @hiveTime
    potential = {
        has_ascension_perk = ap_hive_worlds
        NOT = { has_global_flag = planetarydiversity }
    }
    ai_weight = {
        weight = 10
        modifier = {
            factor = 0
            from = {
                any_owned_pop = {
                    NOT = { has_trait = trait_hive_mind }
                }
            }
        }
        modifier = {
            factor = 0
            from = {
                is_colony = no
            }
        }
    }
}
terraform_link = {
    to = "pc_hive"
    from = "pc_savannah"
    energy = @hiveCost
    duration = @hiveTime
    potential = {
        has_ascension_perk = ap_hive_worlds
        NOT = { has_global_flag = planetarydiversity }
    }
    ai_weight = {
        weight = 10
        modifier = {
            factor = 0
            from = {
                any_owned_pop = {
                    NOT = { has_trait = trait_hive_mind }
                }
            }
        }
        modifier = {
            factor = 0
            from = {
                is_colony = no
            }
        }        
    }
}
terraform_link = {
    to = "pc_hive"
    from = "pc_arctic"
    energy = @hiveCost
    duration = @hiveTime
    potential = {
        has_ascension_perk = ap_hive_worlds
        NOT = { has_global_flag = planetarydiversity }
    }
    ai_weight = {
        weight = 10
        modifier = {
            factor = 0
            from = {
                any_owned_pop = {
                    NOT = { has_trait = trait_hive_mind }
                }
            }
        }
        modifier = {
            factor = 0
            from = {
                is_colony = no
            }
        }
    }
}
terraform_link = {
    to = "pc_hive"
    from = "pc_tundra"
    energy = @hiveCost
    duration = @hiveTime
    potential = {
        has_ascension_perk = ap_hive_worlds
        NOT = { has_global_flag = planetarydiversity }
    }
    ai_weight = {
        weight = 10
        modifier = {
            factor = 0
            from = {
                any_owned_pop = {
                    NOT = { has_trait = trait_hive_mind }
                }
            }
        }
        modifier = {
            factor = 0
            from = {
                is_colony = no
            }
        }
    }
}
terraform_link = {
    to = "pc_hive"
    from = "pc_alpine"
    energy = @hiveCost
    duration = @hiveTime
    potential = {
        has_ascension_perk = ap_hive_worlds
        NOT = { has_global_flag = planetarydiversity }
    }
    ai_weight = {
        weight = 10
        modifier = {
            factor = 0
            from = {
                any_owned_pop = {
                    NOT = { has_trait = trait_hive_mind }
                }
            }
        }
        modifier = {
            factor = 0
            from = {
                is_colony = no
            }
        }
    }
}
terraform_link = {
    to = "pc_hive"
    from = "pc_continental"
    energy = @hiveCost
    duration = @hiveTime
    potential = {
        has_ascension_perk = ap_hive_worlds
        NOT = { has_global_flag = planetarydiversity }
    }
    ai_weight = {
        weight = 10
        modifier = {
            factor = 0
            from = {
                any_owned_pop = {
                    NOT = { has_trait = trait_hive_mind }
                }
            }
        }
        modifier = {
            factor = 0
            from = {
                is_colony = no
            }
        }
    }
}
terraform_link = {
    to = "pc_hive"
    from = "pc_tropical"
    energy = @hiveCost
    duration = @hiveTime
    potential = {
        has_ascension_perk = ap_hive_worlds
        NOT = { has_global_flag = planetarydiversity }
    }
    ai_weight = {
        weight = 10
        modifier = {
            factor = 0
            from = {
                any_owned_pop = {
                    NOT = { has_trait = trait_hive_mind }
                }
            }
        }
        modifier = {
            factor = 0
            from = {
                is_colony = no
            }
        }
    }
}
terraform_link = {
    to = "pc_hive"
    from = "pc_ocean"
    energy = @hiveCost
    duration = @hiveTime
    potential = {
        has_ascension_perk = ap_hive_worlds
        NOT = { has_global_flag = planetarydiversity }
    }
    ai_weight = {
        weight = 10
        modifier = {
            factor = 0
            from = {
                any_owned_pop = {
                    NOT = { has_trait = trait_hive_mind }
                }
            }
        }
        modifier = {
            factor = 0
            from = {
                is_colony = no
            }
        }
    }
}
terraform_link = {
    from = "pc_hive"
    to = "pc_desert"
    energy = @hiveCost
    duration = @hiveTime
    potential = {
        has_technology = tech_climate_restoration
        NOT = { has_global_flag = planetarydiversity }
    }
    effect = {
        from = {
            reroll_deposits = yes
            clear_blockers = yes
        }
    }
    ai_weight = {
        weight = 5
        modifier = {
            factor = 0
            has_authority = auth_hive_mind
        }
    }
}
terraform_link = {
    to = "pc_arid"
    from = "pc_hive"
    energy = @hiveCost
    duration = @hiveTime
    potential = {
        has_technology = tech_climate_restoration
        NOT = { has_global_flag = planetarydiversity }
    }
    effect = {
        from = {
            reroll_deposits = yes
            clear_blockers = yes
        }
    }
    ai_weight = {
        weight = 5
        modifier = {
            factor = 0
            has_authority = auth_hive_mind
        }
    }
}
terraform_link = {
    from = "pc_hive"
    to = "pc_savannah"
    energy = @hiveCost
    duration = @hiveTime
    potential = {
        has_technology = tech_climate_restoration
        NOT = { has_global_flag = planetarydiversity }        
    }
    effect = {
        from = {
            reroll_deposits = yes
            clear_blockers = yes
        }
    }
    ai_weight = {
        weight = 5
        modifier = {
            factor = 0
            has_authority = auth_hive_mind
        }
    }
}
terraform_link = {
    from = "pc_hive"
    to = "pc_arctic"
    energy = @hiveCost
    duration = @hiveTime
    potential = {
        has_technology = tech_climate_restoration
        NOT = { has_global_flag = planetarydiversity }
    }
    effect = {
        from = {
            reroll_deposits = yes
            clear_blockers = yes
        }
    }
    ai_weight = {
        weight = 5
        modifier = {
            factor = 0
            has_authority = auth_hive_mind
        }
    }
}
terraform_link = {
    from = "pc_hive"
    to = "pc_tundra"
    energy = @hiveCost
    duration = @hiveTime
    potential = {
        has_technology = tech_climate_restoration
        NOT = { has_global_flag = planetarydiversity }
    }
    effect = {
        from = {
            reroll_deposits = yes
            clear_blockers = yes
        }
    }
    ai_weight = {
        weight = 5
        modifier = {
            factor = 0
            has_authority = auth_hive_mind
        }
    }
}
terraform_link = {
    from = "pc_hive"
    to = "pc_alpine"
    energy = @hiveCost
    duration = @hiveTime
    potential = {
        has_technology = tech_climate_restoration
        NOT = { has_global_flag = planetarydiversity }
    }
    effect = {
        from = {
            reroll_deposits = yes
            clear_blockers = yes
        }
    }
    ai_weight = {
        weight = 5
        modifier = {
            factor = 0
            has_authority = auth_hive_mind
        }
    }
}
terraform_link = {
    from = "pc_hive"
    to = "pc_continental"
    energy = @hiveCost
    duration = @hiveTime
    potential = {
        has_technology = tech_climate_restoration
        NOT = { has_global_flag = planetarydiversity }
    }
    effect = {
        from = {
            reroll_deposits = yes
            clear_blockers = yes
        }
    }
    ai_weight = {
        weight = 5
        modifier = {
            factor = 0
            has_authority = auth_hive_mind
        }
    }
}
terraform_link = {
    from = "pc_hive"
    to = "pc_tropical"
    energy = @hiveCost
    duration = @hiveTime
    potential = {
        has_technology = tech_climate_restoration
        NOT = { has_global_flag = planetarydiversity }
    }
    effect = {
        from = {
            reroll_deposits = yes
            clear_blockers = yes
        }
    }
    ai_weight = {
        weight = 5
        modifier = {
            factor = 0
            has_authority = auth_hive_mind
        }
    }
}
terraform_link = {
    from = "pc_hive"
    to = "pc_ocean"
    energy = @hiveCost
    duration = @hiveTime
    potential = {
        has_technology = tech_climate_restoration
        NOT = { has_global_flag = planetarydiversity }
    }
    effect = {
        from = {
            reroll_deposits = yes
            clear_blockers = yes
        }
    }
    ai_weight = {
        weight = 5
        modifier = {
            factor = 0
            has_authority = auth_hive_mind
        }
    }
}
#############
# L-Cluster #
#############
terraform_link = {
    from = pc_gray_goo
                                                                to = pc_desert
    condition = { has_technology = "tech_climate_restoration" }
    energy = 1000
    duration = 360
    potential = { from = { has_modifier = terraforming_candidate } }
    effect = { from = { remove_modifier = terraforming_candidate } }
}
terraform_link = {
    from = pc_gray_goo
                                                                to = pc_arid
    condition = { has_technology = "tech_climate_restoration" }
    energy = 1000
    duration = 360
    potential = { from = { has_modifier = terraforming_candidate } }
    effect = { from = { remove_modifier = terraforming_candidate } }
}
terraform_link = {
    from = pc_gray_goo
                                                                to = pc_savannah
    condition = { has_technology = "tech_climate_restoration" }
    energy = 1000
    duration = 360
    potential = { from = { has_modifier = terraforming_candidate } }
    effect = { from = { remove_modifier = terraforming_candidate } }
}
terraform_link = {
    from = pc_gray_goo
                                                                to = pc_ocean
    condition = { has_technology = "tech_climate_restoration" }
    energy = 1000
    duration = 360
    potential = { from = { has_modifier = terraforming_candidate } }
    effect = { from = { remove_modifier = terraforming_candidate } }
}
terraform_link = {
    from = pc_gray_goo
                                                                to = pc_continental
    condition = { has_technology = "tech_climate_restoration" }
    energy = 1000
    duration = 360
    potential = { from = { has_modifier = terraforming_candidate } }
    effect = { from = { remove_modifier = terraforming_candidate } }
}
terraform_link = {
    from = pc_gray_goo
                                                                to = pc_tropical
    condition = { has_technology = "tech_climate_restoration" }
    energy = 1000
    duration = 360
    potential = { from = { has_modifier = terraforming_candidate } }
    effect = { from = { remove_modifier = terraforming_candidate } }
}
terraform_link = {
    from = pc_gray_goo
                                                                to = pc_arctic
    condition = { has_technology = "tech_climate_restoration" }
    energy = 1000
    duration = 360
    potential = { from = { has_modifier = terraforming_candidate } }
    effect = { from = { remove_modifier = terraforming_candidate } }
}
terraform_link = {
    from = pc_gray_goo
                                                                to = pc_alpine
    condition = { has_technology = "tech_climate_restoration" }
    energy = 1000
    duration = 360
    potential = { from = { has_modifier = terraforming_candidate } }
    effect = { from = { remove_modifier = terraforming_candidate } }
}
terraform_link = {
    from = pc_gray_goo
                                                                to = pc_tundra
    condition = { has_technology = "tech_climate_restoration" }
    energy = 1000
    duration = 360
    potential = { from = { has_modifier = terraforming_candidate } }
    effect = { from = { remove_modifier = terraforming_candidate } }
}