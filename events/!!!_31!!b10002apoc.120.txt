namespace = apoc
country_event = {
    id = apoc.120
    title = apoc.120.name
    desc = {
        text = apoc.120.desc
        trigger = {
            NOT = {
                has_ethic = ethic_gestalt_consciousness
            }
        }
    }
    desc = {
        text = apoc.120.desc.machine
        trigger = {
            has_authority = auth_machine_intelligence
        }
    }
    desc = {
        text = apoc.120.desc.hive
        trigger = {
            has_authority = auth_hive_mind
        }
    }
    picture = GFX_evt_megastructure_construction
    show_sound = event_radio_chatter
    location = capital_scope
    is_triggered_only = yes
    immediate = {
        set_country_flag = colossus_project
    }
    option = {
        name = OK
        give_technology = {
            tech = tech_colossus
            message = no
        }
        if = {
            limit = {
                has_country_flag = pk_cracker
                can_research_technology = tech_pk_cracker
            }
            give_technology = {
                tech = tech_pk_cracker
                message = no
            }
        }
        else_if = {
            limit = {
                has_country_flag = pk_shielder
                can_research_technology = tech_pk_shielder
            }
            give_technology = {
                tech = tech_pk_shielder
                message = no
            }
        }
        else_if = {
            limit = {
                has_country_flag = pk_neutron
                can_research_technology = tech_pk_neutron
            }
            give_technology = {
                tech = tech_pk_neutron
                message = no
            }
        }
        else_if = {
            limit = {
                has_country_flag = pk_godray
                can_research_technology = tech_pk_godray
            }
            give_technology = {
                tech = tech_pk_godray
                message = no
            }
        }
        else_if = {
            limit = {
                has_country_flag = pk_nanobots
                can_research_technology = tech_pk_nanobots
            }
            give_technology = {
                tech = tech_pk_nanobots
                message = no
            }
        }
        else = {
            switch = {
                trigger = can_research_technology
                tech_pk_cracker = {
                    give_technology = {
                        tech = tech_pk_cracker
                        message = no
                    }
                }
                tech_pk_shielder = {
                    give_technology = {
                        tech = tech_pk_shielder
                message = no
            }
        }
                tech_pk_neutron = {
                    give_technology = {
                        tech = tech_pk_neutron
                        message = no
                }
            }
                tech_pk_godray = {
                    give_technology = {
                        tech = tech_pk_godray
                        message = no
                    }
                }
                tech_pk_nanobots = {
                    give_technology = {
                        tech = tech_pk_nanobots
                message = no
            }
        }
            }
        }
        hidden_effect = {
            every_playable_country = {
                limit = {
                    has_communications = root
                    NOT = {
                        is_same_value = root
                    }
                    has_intel_level = {
                        who = root
                        category = military
                        level >= 2
                    }
                }
                country_event = {
                    id = apoc.130
                }
            }
            observer_event = {
                id = observer.69
            }
        }
    }
}
