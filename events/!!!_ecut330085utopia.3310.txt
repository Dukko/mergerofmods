namespace = utopia
country_event = {
    id = utopia.3310
    title = "utopia.3310.name"
    picture = GFX_evt_unspeakable_horror
    show_sound = event_mystic_reveal
    location = root
    is_triggered_only = yes
    desc = {
        text = covenant.anchor.desc
        trigger = {
            has_country_flag = anchor_of_disaster
        }
    }
    desc = {
        text = covenant.whisperers.desc
        trigger = {
            has_modifier = covenant_whisperers_in_the_void
        }
    }
    desc = {
        text = covenant.composer.desc
        trigger = {
            has_modifier = covenant_composer_of_strands
        }
    }
    desc = {
        text = covenant.eater.desc
        trigger = {
            has_modifier = covenant_eater_of_worlds
        }
    }
    desc = {
        text = covenant.instrument.desc
        trigger = {
            has_modifier = covenant_instrument_of_desire
        }
    }
    desc = {
        text = covenant.cycle.desc
        trigger = {
            has_modifier = covenant_end_of_the_cycle
        }
    }
    option = {
        trigger = {
            has_country_flag = anchor_of_disaster
        }
        name = anchor.disaster.option
    }
    option = {
        trigger = {
            has_modifier = covenant_whisperers_in_the_void
        }
        name = covenant.whisperers.option
    }
    option = {
        trigger = {
            has_modifier = covenant_instrument_of_desire
        }
        name = covenant.instrument.option
    }
    option = {
        trigger = {
            has_modifier = covenant_eater_of_worlds
        }
        name = covenant.eater.option
    }
    option = {
        trigger = {
            has_modifier = covenant_composer_of_strands
        }
        name = covenant.composer.option
    }
    option = {
        trigger = {
            has_modifier = covenant_end_of_the_cycle
        }
        name = covenant.cycle.option
        hidden_effect = {
            every_owned_planet = {
                limit = {
                    NOT = {
                        has_modifier = covenant_shroud_marked
                    }
                }
                add_modifier = {
                    modifier = covenant_shroud_marked
                    days = -1
                }
            }
            every_subject = {
                every_owned_planet = {
                    limit = {
                        NOT = {
                            has_modifier = covenant_shroud_marked
                        }
                    }
                    add_modifier = {
                        modifier = covenant_shroud_marked
                        days = -1
                    }
                }
            }
        }
    }
}
