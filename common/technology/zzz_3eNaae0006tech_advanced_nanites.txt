tech_advanced_nanites = {
    area = engineering
    cost = 40000
    tier = 2
    is_dangerous = yes
    category = {
        industry
    }
    weight = 25
    is_reverse_engineerable = no
    modifier = {
        ship_hull_regen_add_perc = 0.2
    }
    potential = {
        NOT = {
            has_origin = civic_harvester_nanites
        }
        NOT = {
            has_origin = civic_gateway_pursuer
        }
        NOT = {
            has_authority = auth_machine_intelligence
        }
        NOT = {
            has_authority = auth_hive_mind
        }
    }
    prerequisites = {
        "tech_nanite_technology_mastery"
    }
    prereqfor_desc = {
        custom = {
            title = tech_advanced_nanites_effect
            desc = tech_advanced_nanites_effect_desc
        }
        custom = {
            title = tech_advanced_nanite_factory_effect
            desc = tech_advanced_nanite_factory_effect_desc
        }
    }
    ai_weight = {
        modifier = {
            factor = 0.25
            AND = {
                NOT = {
                    has_origin = civic_harvester_nanites
                }
                NOT = {
                    has_origin = civic_gateway_pursuer
                }
                NOR = {
                    has_ethic = ethic_spiritualist
                    has_ethic = ethic_fanatic_spiritualist
                }
                NOR = {
                    has_ethic = ethic_materialists
                    has_ethic = ethic_fanatic_materialists
                }
            }
        }
        modifier = {
            factor = 0.5
            AND = {
                NOT = {
                    has_origin = civic_harvester_nanites
                }
                NOT = {
                    has_origin = civic_gateway_pursuer
                }
                NOR = {
                    has_ethic = ethic_spiritualist
                    has_ethic = ethic_fanatic_spiritualist
                }
                OR = {
                    has_ethic = ethic_materialists
                    has_ethic = ethic_fanatic_materialists
                }
            }
        }
        modifier = {
            factor = 0
            AND = {
                NOT = {
                    has_origin = civic_harvester_nanites
                }
                NOT = {
                    has_origin = civic_gateway_pursuer
                }
                OR = {
                    has_ethic = ethic_spiritualist
                    has_ethic = ethic_fanatic_spiritualist
                }
                NOR = {
                    has_ethic = ethic_materialists
                    has_ethic = ethic_fanatic_materialists
                }
                NOT = {
                    has_origin = civic_machine_worshipers
                }
            }
        }
        modifier = {
            factor = 0.5
            AND = {
                NOT = {
                    has_origin = civic_harvester_nanites
                }
                NOT = {
                    has_origin = civic_gateway_pursuer
                }
                OR = {
                    has_ethic = ethic_spiritualist
                    has_ethic = ethic_fanatic_spiritualist
                }
                NOR = {
                    has_ethic = ethic_materialists
                    has_ethic = ethic_fanatic_materialists
                }
                has_origin = civic_machine_worshipers
            }
        }
    }
}
