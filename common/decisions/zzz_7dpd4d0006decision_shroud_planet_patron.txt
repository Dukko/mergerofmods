decision_shroud_planet_patron = {
    icon = decision_shroud_planet_patron
    owned_planets_only = yes
    enactment_time = 1800
    resources = {
        category = decisions
        cost = {
            sr_zro = 2500
            influence = 250
        }
    }
    potential = {
        has_global_flag = planetarydiversityshroud
        OR = {
        owner = {
            has_ascension_perk = ap_transcendence
            }
            owner = {
                has_ascension_perk = ap_synthetic_transcendence
            }
            owner = {
                has_ascension_perk = ap_machine_transcendence
            }
        }
        habitable_structure = no
        OR = {
            is_planet_class = pc_pdshroud
            is_planet_class = pc_shroudcity
        }
        NOT = {
            OR = {
                has_modifier = pdwhispers
                has_modifier = pdcomposer
                has_modifier = pdeater
                has_modifier = pddesire
            }
        }
        OWNER = {
            NOT = {
                AND = {
                    any_owned_planet = {
                        has_modifier = pdwhispers
                    }
                    any_owned_planet = {
                        has_modifier = pdcomposer
                    }
                    any_owned_planet = {
                        has_modifier = pdeater
                    }
                    any_owned_planet = {
                        has_modifier = pddesire
                    }
                }
            }
        }
    }
    effect = {
        custom_tooltip = decision_shroud_planet_patron_effects_custom
        hidden_effect = {
            planet_event = {
                id = pdshroud.99
                days = 1
            }
        }
    }
    ai_weight = {
        weight = 0
        modifier = {
            factor = 0
            or = {
                free_building_slots > 0
                owner = {
                    resource_stockpile_compare = {
                        resource = sr_zro
                        value < 500
                    }
                }
            }
        }
    }
}
